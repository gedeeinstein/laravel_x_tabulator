/* Tabulator v3.3.0 (c) Oliver Folkerd */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(j,W){!function(){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<o;){var s=e[n];if(t.call(i,s,n,e))return n;n++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<o;){var s=e[n];if(t.call(i,s,n,e))return s;n++}return W}});var o=function(t){this.table=t,this.headersElement=j("<div class='tabulator-headers'></div>"),this.element=j("<div class='tabulator-header'></div>"),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField=[],this.scrollLeft=0,this.element.prepend(this.headersElement)};o.prototype.setRowManager=function(t){this.rowManager=t},o.prototype.getElement=function(){return this.element},o.prototype.getHeadersElement=function(){return this.headersElement},o.prototype.scrollHorizontal=function(t){var e=0,o=this.element[0].scrollWidth-this.table.element.innerWidth();this.element.scrollLeft(t),o<t?(e=t-o,this.element.css("margin-left",-e)):this.element.css("margin-left",0),this.scrollLeft=t,this.table.extExists("frozenColumns")&&this.table.extensions.frozenColumns.layout()},o.prototype.setColumns=function(t,e){var o=this;o.headersElement.empty(),o.columns=[],o.columnsByIndex=[],o.columnsByField=[],o.table.extExists("frozenColumns")&&o.table.extensions.frozenColumns.reset(),t.forEach(function(t,e){o._addColumn(t)}),o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.extExists("responsiveLayout",!0)&&o.table.extensions.responsiveLayout.initialize(),o.redraw(!0)},o.prototype._addColumn=function(t,e,o){var i=new a(t,this),n=o?this.findColumnIndex(o):o;if(o&&-1<n){var s=this.columns.indexOf(o.getTopColumn());e?(this.columns.splice(s,0,i),o.getElement().before(i.getElement())):(this.columns.splice(s+1,0,i),o.getElement().after(i.getElement()))}else e?(this.columns.unshift(i),this.headersElement.prepend(i.getElement())):(this.columns.push(i),this.headersElement.append(i.getElement()));return i},o.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},o.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},o.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach(function(t){t.reRegisterPosition()})},o.prototype._verticalAlignHeaders=function(){var e=this;e.columns.forEach(function(t){t.clearVerticalAlign()}),e.columns.forEach(function(t){t.verticalAlign(e.table.options.columnVertAlign)}),e.rowManager.adjustTableSize()},o.prototype.findColumn=function(e){return"object"!=(void 0===e?"undefined":_typeof(e))?this.columnsByField[e]||!1:e instanceof a?e:e instanceof t?e._getSelf()||!1:e instanceof jQuery&&this.columns.find(function(t){return t.element===e})||!1},o.prototype.getColumnByField=function(t){return this.columnsByField[t]},o.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},o.prototype.getColumns=function(){return this.columns},o.prototype.findColumnIndex=function(e){return this.columnsByIndex.findIndex(function(t){return e===t})},o.prototype.getRealColumns=function(){return this.columnsByIndex},o.prototype.traverse=function(o){this.columnsByIndex.forEach(function(t,e){o(t,e)})},o.prototype.getDefinitions=function(e){var o=[];return this.columnsByIndex.forEach(function(t){(!e||e&&t.visible)&&o.push(t.getDefinition())}),o},o.prototype.getDefinitionTree=function(){var e=[];return this.columns.forEach(function(t){e.push(t.getDefinition(!0))}),e},o.prototype.getComponents=function(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach(function(t){e.push(t.getComponent())}),e},o.prototype.getWidth=function(){var e=0;return this.columnsByIndex.forEach(function(t){t.visible&&(e+=t.getWidth())}),e},o.prototype.moveColumn=function(t,e,o){this._moveColumnInArray(this.columns,t,e,o),this._moveColumnInArray(this.columnsByIndex,t,e,o,!0),this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.initialize(),this.table.options.columnMoved&&this.table.options.columnMoved(t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistentLayout&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("columns")},o.prototype._moveColumnInArray=function(t,e,o,i,n){var s,a=t.indexOf(e);-1<a&&(t.splice(a,1),-1<(s=t.indexOf(o))?i&&(s+=1):s=a,t.splice(s,0,e),n&&this.table.rowManager.rows.forEach(function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(s,0,e)}}))},o.prototype.scrollToColumn=function(t,e,o){var i=0,n=0,s=0;if(void 0===e&&(e=this.table.options.scrollToColumnPosition),void 0===o&&(o=this.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":s=-this.element[0].clientWidth/2;break;case"right":s=t.element.innerWidth()-this.headersElement.innerWidth()}return!(!o&&0<(n=t.element.position().left)&&n+t.element.outerWidth()<this.element[0].clientWidth)&&(i=t.element.position().left+this.element.scrollLeft()+s,i=Math.max(Math.min(i,this.table.rowManager.element[0].scrollWidth-this.table.rowManager.element[0].clientWidth),0),this.table.rowManager.scrollHorizontal(i),this.scrollHorizontal(i),!0)}return console.warn("Scroll Error - Column not visible"),!1},o.prototype.generateCells=function(e){var o=[];return this.columnsByIndex.forEach(function(t){o.push(t.generateCell(e))}),o},o.prototype.getFlexBaseWidth=function(){var n=this,s=n.table.element.innerWidth(),a=0;return n.rowManager.element[0].scrollHeight>n.rowManager.element.innerHeight()&&(s-=n.rowManager.element[0].offsetWidth-n.rowManager.element[0].clientWidth),this.columnsByIndex.forEach(function(t){var e,o,i;t.visible&&(e=t.definition.width||0,o=void 0===t.minWidth?n.table.options.columnMinWidth:parseInt(t.minWidth),i="string"==typeof e?-1<e.indexOf("%")?s/100*parseInt(e):parseInt(e):e,a+=o<i?i:o)}),a},o.prototype.addColumn=function(t,e,o){var i=this._addColumn(t,e,o);this._reIndexColumns(),this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.initialize(),this.table.extExists("columnCalcs")&&this.table.extensions.columnCalcs.recalc(this.table.rowManager.activeRows),this.redraw(),"fitColumns"!=this.table.extensions.layout.getMode()&&i.reinitializeWidth(),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},o.prototype.deregisterColumn=function(t){var e,o=t.getField();o&&delete this.columnsByField[o],-1<(e=this.columnsByIndex.indexOf(t))&&this.columnsByIndex.splice(e,1),-1<(e=this.columns.indexOf(t))&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.initialize(),this.redraw()},o.prototype.redraw=function(t){t&&(this.element.is(":visible")&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),"fitColumns"==this.table.extensions.layout.getMode()?this.table.extensions.layout.layout():t?this.table.extensions.layout.layout():this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.update(),this.table.extExists("frozenColumns")&&this.table.extensions.frozenColumns.layout(),this.table.extExists("columnCalcs")&&this.table.extensions.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistentLayout&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("columns"),this.table.extExists("columnCalcs")&&this.table.extensions.columnCalcs.redraw()),this.table.footerManager.redraw()};var t=function(t){this.column=t,this.type="ColumnComponent"};t.prototype.getElement=function(){return this.column.getElement()},t.prototype.getDefinition=function(){return this.column.getDefinition()},t.prototype.getField=function(){return this.column.getField()},t.prototype.getCells=function(){var e=[];return this.column.cells.forEach(function(t){e.push(t.getComponent())}),e},t.prototype.getVisibility=function(){return this.column.visible},t.prototype.show=function(){this.column.isGroup?this.column.columns.forEach(function(t){t.show()}):this.column.show()},t.prototype.hide=function(){this.column.isGroup?this.column.columns.forEach(function(t){t.hide()}):this.column.hide()},t.prototype.toggle=function(){this.column.visible?this.hide():this.show()},t.prototype.delete=function(){this.column.delete()},t.prototype.getSubColumns=function(){var e=[];return this.column.columns.length&&this.column.columns.forEach(function(t){e.push(t.getComponent())}),e},t.prototype.getParentColumn=function(){return this.column.parent instanceof a&&this.column.parent.getComponent()},t.prototype._getSelf=function(){return this.column},t.prototype.scrollTo=function(){this.column.table.columManager.scrollToColumn(this.column)};var a=function i(t,e){var n=this;this.table=e.table,this.definition=t,this.parent=e,this.type="column",this.columns=[],this.cells=[],this.element=j("<div class='tabulator-col' role='columnheader' aria-sort='none'></div>"),this.contentElement=!1,this.groupElement=j("<div class='tabulator-col-group-cols'></div>"),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.setField(this.definition.field),this.extensions={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1},this.width=null,this.minWidth=null,this.widthFixed=!1,this.visible=!0,t.columns?(this.isGroup=!0,t.columns.forEach(function(t,e){var o=new i(t,n);n.attachColumn(o)}),n.checkColumnVisibility()):e.registerColumnField(this),t.rowHandle&&!1!==this.table.options.movableRows&&this.table.extExists("moveRow")&&this.table.extensions.moveRow.setHandle(!0),this._mapDepricatedFunctionality(),this._buildHeader()};a.prototype._mapDepricatedFunctionality=function(t){this.definition.tooltipHeader&&(console.warn("The%c tooltipHeader%c column definition property has been depricated and will be removed in version 4.0, use %c headerTooltip%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;"),void 0===this.definition.headerTooltip&&(this.definition.headerTooltip=this.definition.tooltipHeader))},a.prototype.setField=function(t){this.field=t,this.fieldStructure=t?t.split("."):[],this.getFieldValue=1<this.fieldStructure.length?this._getNestedData:this._getFlatData,this.setFieldValue=1<this.fieldStructure.length?this._setNesteData:this._setFlatData},a.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},a.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},a.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach(function(t){t.reRegisterPosition()}):this.registerColumnPosition(this)},a.prototype.setTooltip=function(){var e=this,o=e.definition,t=o.headerTooltip||!1===o.tooltip?o.headerTooltip:e.table.options.tooltipsHeader;t?!0===t?o.field?e.table.extensions.localize.bind("columns|"+o.field,function(t){e.element.attr("title",t||o.title)}):e.element.attr("title",o.title):("function"==typeof t&&!1===(t=t(e.getComponent()))&&(t=""),e.element.attr("title",t)):e.element.attr("title","")},a.prototype._buildHeader=function(){var e,o,i,n=this,s=n.definition;n.element.empty(),n.contentElement=n._buildColumnHeaderContent(),n.element.append(n.contentElement),n.isGroup?n._buildGroupHeader():n._buildColumnHeader(),n.setTooltip(),n.table.options.resizableColumns&&n.table.extExists("resizeColumns")&&n.table.extensions.resizeColumns.initializeColumn("header",n,n.element),s.headerFilter&&n.table.extExists("filter")&&n.table.extExists("edit")&&(void 0!==s.headerFilterPlaceholder&&s.field&&n.table.extensions.localize.setHeaderFilterColumnPlaceholder(s.field,s.headerFilterPlaceholder),n.table.extensions.filter.initializeColumn(n)),n.table.extExists("frozenColumns")&&n.table.extensions.frozenColumns.initializeColumn(n),n.table.options.movableColumns&&!n.isGroup&&n.table.extExists("moveColumn")&&n.table.extensions.moveColumn.initializeColumn(n),(s.topCalc||s.bottomCalc)&&n.table.extExists("columnCalcs")&&n.table.extensions.columnCalcs.initializeColumn(n),n.element.on("mouseenter",function(t){n.setTooltip()}),"function"==typeof s.headerClick&&n.element.on("click",function(t){s.headerClick(t,n.getComponent())}),"function"==typeof s.headerDblClick&&n.element.on("dblclick",function(t){s.headerDblClick(t,n.getComponent())}),"function"==typeof s.headerContext&&n.element.on("contextmenu",function(t){s.headerContext(t,n.getComponent())}),"function"==typeof s.headerTap&&(i=!1,n.element.on("touchstart",function(t){i=!0}),n.element.on("touchend",function(t){i&&s.headerTap(t,n.getComponent()),i=!1})),"function"==typeof s.headerDblTap&&(e=null,n.element.on("touchend",function(t){e?(clearTimeout(e),e=null,s.headerDblTap(t,n.getComponent())):e=setTimeout(function(){clearTimeout(e),e=null},300)})),"function"==typeof s.headerTapHold&&(o=null,n.element.on("touchstart",function(t){clearTimeout(o),o=setTimeout(function(){clearTimeout(o),o=null,i=!1,s.headerTapHold(t,n.getComponent())},1e3)}),n.element.on("touchend",function(t){clearTimeout(o),o=null})),"function"==typeof s.cellClick&&(n.cellEvents.cellClick=s.cellClick),"function"==typeof s.cellDblClick&&(n.cellEvents.cellDblClick=s.cellDblClick),"function"==typeof s.cellContext&&(n.cellEvents.cellContext=s.cellContext),"function"==typeof s.cellTap&&(n.cellEvents.cellTap=s.cellTap),"function"==typeof s.cellDblTap&&(n.cellEvents.cellDblTap=s.cellDblTap),"function"==typeof s.cellTapHold&&(n.cellEvents.cellTapHold=s.cellTapHold),"function"==typeof s.cellEdited&&(n.cellEvents.cellEdited=s.cellEdited),"function"==typeof s.cellEditing&&(n.cellEvents.cellEditing=s.cellEditing),"function"==typeof s.cellEditCancelled&&(n.cellEvents.cellEditCancelled=s.cellEditCancelled)},a.prototype._buildColumnHeader=function(){var t=this,e=t.definition,o=t.table;o.extExists("sort")&&o.extensions.sort.initializeColumn(t,t.contentElement),o.extExists("format")&&o.extensions.format.initializeColumn(t),void 0!==e.editor&&o.extExists("edit")&&o.extensions.edit.initializeColumn(t),void 0!==e.validator&&o.extExists("validate")&&o.extensions.validate.initializeColumn(t),o.extExists("mutator")&&o.extensions.mutator.initializeColumn(t),o.extExists("accessor")&&o.extensions.accessor.initializeColumn(t),_typeof(o.options.responsiveLayout)&&o.extExists("responsiveLayout")&&o.extensions.responsiveLayout.initializeColumn(t),void 0!==e.visible&&(e.visible?t.show(!0):t.hide(!0)),e.cssClass&&t.element.addClass(e.cssClass),e.field&&this.element.attr("tabulator-field",e.field),t.setMinWidth(void 0===e.minWidth?t.table.options.columnMinWidth:e.minWidth),t.reinitializeWidth(),t.tooltip=t.definition.tooltip||!1===t.definition.tooltip?t.definition.tooltip:t.table.options.tooltips,t.hozAlign=void 0===t.definition.align?"":t.definition.align},a.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var t=j("<div class='tabulator-col-content'></div>");return t.append(this._buildColumnHeaderTitle()),t},a.prototype._buildColumnHeaderTitle=function(){var e=this,o=e.definition,i=e.table,n=j("<div class='tabulator-col-title'></div>");if(o.editableTitle){var s=j("<input class='tabulator-title-editor'>");s.on("click",function(t){t.stopPropagation(),j(this).focus()}),s.on("change",function(){var t=j(this).val();o.title=t,i.options.columnTitleChanged(e.getComponent())}),n.append(s),o.field?i.extensions.localize.bind("columns|"+o.field,function(t){s.val(t||o.title||"&nbsp")}):s.val(o.title||"&nbsp")}else o.field?i.extensions.localize.bind("columns|"+o.field,function(t){e._formatColumnHeaderTitle(n,t||o.title||"&nbsp")}):e._formatColumnHeaderTitle(n,o.title||"&nbsp");return n},a.prototype._formatColumnHeaderTitle=function(t,e){var o;this.definition.titleFormatter&&this.table.extExists("format")?(o=this.table.extensions.format.getFormatter(this.definition.titleFormatter).call(this.table.extensions.format,{getValue:function(){return e},getElement:function(){return t}},this.definition.titleFormatterParams||{}),t.append(o)):t.html(e)},a.prototype._buildGroupHeader=function(){var t=this,e=t.definition;t.table;t.element.addClass("tabulator-col-group").attr("role","columngroup").attr("aria-title",e.title),t.element.append(t.groupElement)},a.prototype._getFlatData=function(t){return t[this.field]},a.prototype._getNestedData=function(t){for(var e,o=t,i=this.fieldStructure,n=i.length,s=0;s<n&&(e=o=o[i[s]]);s++);return e},a.prototype._setFlatData=function(t,e){t[this.field]=e},a.prototype._setNesteData=function(t,e){for(var o=t,i=this.fieldStructure,n=i.length,s=0;s<n;s++)s==n-1?o[i[s]]=e:(o[i[s]]||(o[i[s]]={}),o=o[i[s]])},a.prototype.attachColumn=function(t){this.groupElement?(this.columns.push(t),this.groupElement.append(t.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},a.prototype.verticalAlign=function(e){var t=this.parent.isGroup?this.parent.getGroupElement().innerHeight():this.parent.getHeadersElement().innerHeight();this.element.css("height",t),this.isGroup&&this.groupElement.css("min-height",t-this.contentElement.outerHeight()),this.isGroup||"top"===e||("bottom"===e?this.element.css({"padding-top":this.element.innerHeight()-this.contentElement.outerHeight()}):this.element.css({"padding-top":(this.element.innerHeight()-this.contentElement.outerHeight())/2})),this.columns.forEach(function(t){t.verticalAlign(e)})},a.prototype.clearVerticalAlign=function(){this.element.css("padding-top",""),this.element.css("height",""),this.element.css("min-height",""),this.columns.forEach(function(t){t.clearVerticalAlign()})},a.prototype.getElement=function(){return this.element},a.prototype.getGroupElement=function(){return this.groupElement},a.prototype.getField=function(){return this.field},a.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},a.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},a.prototype.getColumns=function(){return this.columns},a.prototype.getCells=function(){return this.cells},a.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},a.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach(function(t){e.push(t.getDefinition(!0))}),this.definition.columns=e),this.definition},a.prototype.checkColumnVisibility=function(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.parent.table.options.columnVisibilityChanged(this.getComponent(),!1)):this.hide()},a.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.css({display:""}),this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(t){t.show()}),this.table.options.persistentLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged(this.getComponent(),!0))},a.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.css({display:"none"}),this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(t){t.hide()}),this.table.options.persistentLayout&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged(this.getComponent(),!1))},a.prototype.matchChildWidths=function(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){e+=t.getWidth()}),this.contentElement.css("max-width",e-1))},a.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},a.prototype.setWidthActual=function(e){isNaN(e)&&(e=Math.floor(this.table.element.innerWidth()/100*parseInt(e))),console.log,e=Math.max(this.minWidth,e),this.width=e,this.element.css("width",e||""),this.isGroup||this.cells.forEach(function(t){t.setWidth(e)}),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.extExists("frozenColumns")&&this.table.extensions.frozenColumns.layout()},a.prototype.checkCellHeights=function(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(null!==t.row.element[0].offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})},a.prototype.getWidth=function(){return this.element.outerWidth()},a.prototype.getHeight=function(){return this.element.outerHeight()},a.prototype.setMinWidth=function(e){this.minWidth=e,this.element.css("min-width",e||""),this.cells.forEach(function(t){t.setMinWidth(e)})},a.prototype.delete=function(){this.isGroup&&this.columns.forEach(function(t){t.delete()});for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete();this.element.detach(),this.table.columnManager.deregisterColumn(this)},a.prototype.generateCell=function(t){var e=new r(this,t);return this.cells.push(e),e},a.prototype.reinitializeWidth=function(t){this.widthFixed=!1,void 0===this.definition.width||t||this.setWidth(this.definition.width),this.table.extExists("filter")&&this.table.extensions.filter.hideHeaderFilterElements(),this.fitToData(),this.table.extExists("filter")&&this.table.extensions.filter.showHeaderFilterElements()},a.prototype.fitToData=function(){this.widthFixed||(this.element.css("width",""),this.cells.forEach(function(t){t.setWidth("")}));var o=this.element.outerWidth();this.width&&this.widthFixed||(this.cells.forEach(function(t){var e=t.getWidth();o<e&&(o=e)}),o&&this.setWidthActual(o+1))},a.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);-1<e&&this.cells.splice(e,1)},a.prototype.getComponent=function(){return new t(this)};var i=function(t){this.table=t,this.element=j("<div class='tabulator-tableHolder' tabindex='0'></div>"),this.tableElement=j("<div class='tabulator-table'></div>"),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="classic",this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]};i.prototype.getElement=function(){return this.element},i.prototype.getTableElement=function(){return this.tableElement},i.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},i.prototype.setColumnManager=function(t){this.columnManager=t},i.prototype.initialize=function(){var o=this;o.setRenderMode(),o.element.append(o.tableElement),o.firstRender=!0,o.element.scroll(function(){var t=o.element[0].scrollLeft;o.scrollLeft!=t&&(o.columnManager.scrollHorizontal(t),o.table.options.groupBy&&o.table.extensions.groupRows.scrollHeaders(t),o.table.extExists("columnCalcs")&&o.table.extensions.columnCalcs.scrollHorizontal(t)),o.scrollLeft=t}),"virtual"===this.renderMode&&o.element.scroll(function(){var t=o.element[0].scrollTop,e=o.scrollTop>t;o.scrollTop!=t?(o.scrollTop=t,o.scrollVertical(e),"scroll"==o.table.options.ajaxProgressiveLoad&&o.table.extensions.ajax.nextPage(o.element[0].scrollHeight-o.element[0].clientHeight-t)):o.scrollTop=t})},i.prototype.findRow=function(e){var o=this;if("object"==(void 0===e?"undefined":_typeof(e))){if(e instanceof u)return e;if(e instanceof n)return e._getSelf()||!1;if(e instanceof jQuery)return o.rows.find(function(t){return t.element===e})||!1}else{return null!=e&&(o.rows.find(function(t){return t.data[o.table.options.index]==e})||!1)}return!1},i.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},i.prototype.scrollToRow=function(t,e,o){var i=this.getDisplayRows().indexOf(t),n=0;if(-1<i){if(void 0===e&&(e=this.table.options.scrollToRowPosition),void 0===o&&(o=this.table.options.scrollToRowIfVisible),"nearest"===e)switch(this.renderMode){case"classic":e=Math.abs(this.element.scrollTop()-t.element.position().top)>Math.abs(this.element.scrollTop()+this.element[0].clientHeight-t.element.position().top)?"bottom":"top";break;case"virtual":e=Math.abs(this.vDomTop-i)>Math.abs(this.vDomBottom-i)?"bottom":"top"}if(!o&&t.element.is(":visible")&&0<(n=t.element.offset().top-this.element.offset().top)&&n<this.element[0].clientHeight-t.element.outerHeight())return!1;switch(this.renderMode){case"classic":this.element.scrollTop(t.element.offset().top-this.element.offset().top+this.element.scrollTop());break;case"virtual":this._virtualRenderFill(i,!0)}switch(e){case"middle":case"center":this.element.scrollTop(this.element.scrollTop()-this.element[0].clientHeight/2);break;case"bottom":this.element.scrollTop(this.element.scrollTop()-this.element[0].clientHeight+t.getElement().outerHeight())}return!0}return console.warn("Scroll Error - Row not visible"),!1},i.prototype.setData=function(t,e){var o=this;e&&this.getDisplayRows().length?o.table.options.pagination?o._setDataActual(t,!0):this.reRenderInPosition(function(){o._setDataActual(t)}):(this.resetScroll(),this._setDataActual(t))},i.prototype._setDataActual=function(t,e){var i=this;i.table.options.dataLoading(t),i.rows.forEach(function(t){t.wipe()}),i.rows=[],this.table.options.history&&this.table.extExists("history")&&this.table.extensions.history.clear(),Array.isArray(t)?(this.table.extExists("selectRow")&&this.table.extensions.selectRow.clearSelectionData(),t.forEach(function(t,e){if(t&&"object"===(void 0===t?"undefined":_typeof(t))){var o=new u(t,i);i.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but receved:",t)}),i.table.options.dataLoaded(t),i.refreshActiveData(!1,!1,e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===t?"undefined":_typeof(t),"\nData:     ",t)},i.prototype.deleteRow=function(o){var t=this.rows.indexOf(o),e=this.activeRows.indexOf(o);-1<e&&this.activeRows.splice(e,1),-1<t&&this.rows.splice(t,1),this.setActiveRows(this.activeRows),this.displayRowIterator(function(t){var e=t.indexOf(o);-1<e&&t.splice(e,1)}),this.reRenderInPosition(),this.table.options.rowDeleted(o.getComponent()),this.table.options.dataEdited(this.getData()),this.table.options.groupBy&&this.table.extExists("groupRows")?this.table.extensions.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.extExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.extExists("page")&&this.refreshActiveData("page")},i.prototype.addRow=function(t,e,o,i){var n=this.addRowActual(t,e,o,i);return this.table.options.history&&this.table.extExists("history")&&this.table.extensions.history.action("rowAdd",n,{data:t,pos:e,index:o}),n},i.prototype.addRows=function(t,i,n){var s=this,a=[];return i=this.findAddRowPos(i),Array.isArray(t)||(t=[t]),t.length-1,(void 0===n&&i||void 0!==n&&!i)&&t.reverse(),t.forEach(function(t,e){var o=s.addRow(t,i,n,!0);a.push(o)}),this.table.options.groupBy&&this.table.extExists("groupRows")?this.table.extensions.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.extExists("page")?this.refreshActiveData(!1,!1,!0):this.reRenderInPosition(),this.table.extExists("columnCalcs")&&this.table.extensions.columnCalcs.recalc(this.table.rowManager.activeRows),a},i.prototype.findAddRowPos=function(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},i.prototype.addRowActual=function(t,e,o,i){var n,s=new u(t||{},this),a=this.findAddRowPos(e);if(!o&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(n=this.getDisplayRows(),a?n.length?o=n[0]:this.activeRows.length&&(o=this.activeRows[this.activeRows.length-1],a=!1):n.length&&(o=n[n.length-1],a=!(n.length<this.table.extensions.page.getPageSize()))),o&&(o=this.findRow(o)),this.table.options.groupBy&&this.table.extExists("groupRows")){this.table.extensions.groupRows.assignRowToGroup(s);var r=s.getGroup().rows;1<r.length&&(!o||o&&-1==r.indexOf(o)?a?r[0]!==s&&(o=r[0],this._moveRowInArray(s.getGroup().rows,s,o,a)):r[r.length-1]!==s&&(o=r[r.length-1],this._moveRowInArray(s.getGroup().rows,s,o,a)):this._moveRowInArray(s.getGroup().rows,s,o,a))}if(o){var l=this.rows.indexOf(o),c=this.activeRows.indexOf(o);this.displayRowIterator(function(t){var e=t.indexOf(o);-1<e&&t.splice(a?e:e+1,0,s)}),-1<c&&this.activeRows.splice(a?c:c+1,0,s),-1<l&&this.rows.splice(a?l:l+1,0,s)}else a?(this.displayRowIterator(function(t){t.unshift(s)}),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator(function(t){t.push(s)}),this.activeRows.push(s),this.rows.push(s));return this.setActiveRows(this.activeRows),this.table.options.rowAdded(s.getComponent()),this.table.options.dataEdited(this.getData()),i||this.reRenderInPosition(),s},i.prototype.moveRow=function(t,e,o){this.table.options.history&&this.table.extExists("history")&&this.table.extensions.history.action("rowMove",t,{pos:this.getRowPosition(t),to:e,after:o}),this.moveRowActual(t,e,o),this.table.options.rowMoved(t.getComponent())},i.prototype.moveRowActual=function(e,o,i){var n=this;if(this._moveRowInArray(this.rows,e,o,i),this._moveRowInArray(this.activeRows,e,o,i),this.displayRowIterator(function(t){n._moveRowInArray(t,e,o,i)}),this.table.options.groupBy&&this.table.extExists("groupRows")){var t=o.getGroup(),s=e.getGroup();t===s?this._moveRowInArray(t.rows,e,o,i):(s&&s.removeRow(e),t.insertRow(e,o,i))}},i.prototype._moveRowInArray=function(t,e,o,i){var n,s,a;if(e!==o&&(-1<(n=t.indexOf(e))&&(t.splice(n,1),-1<(s=t.indexOf(o))?i?t.splice(s+1,0,e):t.splice(s,0,e):t.splice(n,0,e)),t===this.getDisplayRows())){a=n<s?s:n+1;for(var r=n<s?n:s;r<=a;r++)t[r]&&this.styleRow(t[r],r)}},i.prototype.clearData=function(){this.setData([])},i.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},i.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return-1<e&&e},i.prototype.nextDisplayRow=function(t,e){var o=this.getDisplayRowIndex(t),i=!1;return!1!==o&&o<this.displayRowsCount-1&&(i=this.getDisplayRows()[o+1]),!i||i instanceof u&&"row"==i.type?i:this.nextDisplayRow(i,e)},i.prototype.prevDisplayRow=function(t,e){var o=this.getDisplayRowIndex(t),i=!1;return o&&(i=this.getDisplayRows()[o-1]),!i||i instanceof u&&"row"==i.type?i:this.prevDisplayRow(i,e)},i.prototype.findRowIndex=function(t,e){var o;return!!((t=this.findRow(t))&&-1<(o=e.indexOf(t)))&&o},i.prototype.getData=function(t,e){var o=[];return(t?this.activeRows:this.rows).forEach(function(t){o.push(t.getData(e||"data"))}),o},i.prototype.getHtml=function(t){var e=this.getData(t),n=[],o="",s="";return this.table.columnManager.getComponents().forEach(function(t){var e=t.getDefinition();t.getVisibility()&&!e.hideInHtml&&(o+="<th>"+(e.title||"")+"</th>",n.push(t))}),e.forEach(function(o){var i="";n.forEach(function(t){var e=void 0===o[t.getField()]?"":o[t.getField()];t.getVisibility()&&(i+="<td>"+e+"</td>")}),s+="<tr>"+i+"</tr>"}),"<table>\n\n \t\t\t\t<thead>\n\n \t\t\t\t<tr>"+o+"</tr>\n\n \t\t\t\t</thead>\n\n \t\t\t\t<tbody>"+s+"</tbody>\n\n \t\t\t\t</table>"},i.prototype.getComponents=function(t){var e=[];return(t?this.activeRows:this.rows).forEach(function(t){e.push(t.getComponent())}),e},i.prototype.getDataCount=function(t){return t?this.rows.length:this.activeRows.length},i.prototype._genRemoteRequest=function(){var e=this,t=e.table,o=t.options,i={};if(t.extExists("page")){if(o.ajaxSorting){var n=e.table.extensions.sort.getSort();n.forEach(function(t){delete t.column}),i[e.table.extensions.page.paginationDataSentNames.sorters]=n}if(o.ajaxFiltering){var s=e.table.extensions.filter.getFilters(!0,!0);i[e.table.extensions.page.paginationDataSentNames.filters]=s}e.table.extensions.ajax.setParams(i,!0)}t.extensions.ajax.sendRequest(function(t){e.setData(t)})},i.prototype.filterRefresh=function(){var t=this.table,e=t.options,o=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.extExists("page")?(t.extensions.page.reset(!0),t.extensions.page.setPage(1)):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(o)},i.prototype.sorterRefresh=function(){var t=this.table,e=this.table.options,o=this.scrollLeft;e.ajaxSorting?"remote"==e.pagination&&t.extExists("page")?(t.extensions.page.reset(!0),t.extensions.page.setPage(1)):this._genRemoteRequest():this.refreshActiveData("sort"),this.scrollHorizontal(o)},i.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft(t),this.table.options.groupBy&&this.table.extensions.groupRows.scrollHeaders(t),this.table.extExists("columnCalcs")&&this.table.extensions.columnCalcs.scrollHorizontal(t)},i.prototype.refreshActiveData=function(t,e,o){var i,n=this,s=this.table;switch(t||(t="all"),s.options.selectable&&!s.options.selectablePersistence&&s.extExists("selectRow")&&s.extensions.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:s.extExists("filter")?n.setActiveRows(s.extensions.filter.filter(n.rows)):n.setActiveRows(n.rows.slice(0));case"sort":e?e=!1:s.extExists("sort")&&s.extensions.sort.sort();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.extExists("frozenRows")&&s.extensions.frozenRows.isFrozen()&&(s.extensions.frozenRows.getDisplayIndex()||s.extensions.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),i=s.extensions.frozenRows.getDisplayIndex(),!0!==(i=n.setDisplayRows(s.extensions.frozenRows.getRows(this.getDisplayRows(i-1)),i))&&s.extensions.frozenRows.setDisplayIndex(i));case"group":e?e=!1:s.options.groupBy&&s.extExists("groupRows")&&(s.extensions.groupRows.getDisplayIndex()||s.extensions.groupRows.setDisplayIndex(this.getNextDisplayIndex()),i=s.extensions.groupRows.getDisplayIndex(),!0!==(i=n.setDisplayRows(s.extensions.groupRows.getRows(this.getDisplayRows(i-1)),i))&&s.extensions.groupRows.setDisplayIndex(i)),s.options.pagination&&s.extExists("page")&&!o&&"local"==s.extensions.page.getMode()&&s.extensions.page.reset();case"page":e?e=!1:s.options.pagination&&s.extExists("page")&&(s.extensions.page.getDisplayIndex()||s.extensions.page.setDisplayIndex(this.getNextDisplayIndex()),i=s.extensions.page.getDisplayIndex(),"local"==s.extensions.page.getMode()&&s.extensions.page.setMaxRows(this.getDisplayRows(i-1).length),!0!==(i=n.setDisplayRows(s.extensions.page.getRows(this.getDisplayRows(i-1)),i))&&s.extensions.page.setDisplayIndex(i))}n.element.is(":visible")&&(o?n.reRenderInPosition():(n.renderTable(),s.options.layoutColumnsOnNewData&&n.table.columnManager.redraw(!0))),s.extExists("columnCalcs")&&s.extensions.columnCalcs.recalc(this.activeRows)},i.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},i.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.extExists("frozenRows")&&this.table.extensions.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.extExists("groupRows")&&this.table.extensions.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.extExists("page")&&this.table.extensions.page.setDisplayIndex(0)},i.prototype.getNextDisplayIndex=function(){return this.displayRows.length},i.prototype.setDisplayRows=function(t,e){var o=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=t,o=!0):(this.displayRows.push(t),o=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o},i.prototype.getDisplayRows=function(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},i.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},i.prototype.getRows=function(){return this.rows},i.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode()){for(var e=this.element.scrollTop(),o=!1,i=!1,n=this.scrollLeft,s=this.getDisplayRows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a]){var r=e-s[a].getElement().position().top;if(!(!1===i||Math.abs(r)<i))break;i=r,o=a}t&&t(),this._virtualRenderFill(!1===o?this.displayRowsCount-1:o,!0,i||0),this.scrollHorizontal(n)}else this.renderTable()},i.prototype.setRenderMode=function(){(this.table.element.innerHeight()||this.table.options.height)&&this.table.options.virtualDom?this.renderMode="virtual":this.renderMode="classic"},i.prototype.getRenderMode=function(){return this.renderMode},i.prototype.renderTable=function(){var t=this;switch(t.table.options.renderStarted(),t.element.scrollTop(0),t.renderMode){case"classic":t._simpleRender();break;case"virtual":t._virtualRenderFill()}t.firstRender&&(t.displayRowsCount?(t.firstRender=!1,t.table.extensions.layout.layout()):t.renderEmptyScroll()),t.table.extExists("frozenColumns")&&t.table.extensions.frozenColumns.layout(),t.displayRowsCount||t.table.options.placeholder&&t.getElement().append(t.table.options.placeholder),t.table.options.renderComplete()},i.prototype._simpleRender=function(){var o=this,i=this.tableElement;o._clearVirtualDom(),o.displayRowsCount?o.getDisplayRows().forEach(function(t,e){o.styleRow(t,e),i.append(t.getElement()),t.initialize(!0)}):o.renderEmptyScroll()},i.prototype.renderEmptyScroll=function(){this.tableElement.css({"min-width":this.table.columnManager.getWidth(),"min-height":"1px",visibility:"hidden"})},i.prototype._clearVirtualDom=function(){var t=this.tableElement;this.table.options.placeholder&&this.table.options.placeholder.detach(),t.children().detach(),t.css({"padding-top":"","padding-bottom":"","min-width":"","min-height":"",visibility:""}),this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},i.prototype.styleRow=function(t,e){e%2?t.element.addClass("tabulator-row-even").removeClass("tabulator-row-odd"):t.element.addClass("tabulator-row-odd").removeClass("tabulator-row-even")},i.prototype._virtualRenderFill=function(t,e,o){var i=this,n=i.tableElement,s=i.element,a=0,r=0,l=0,c=0,u=i.getDisplayRows();if(o=o||0,t=t||0){n.children().detach();var h=(i.displayRowsCount-t+1)*i.vDomRowHeight;h<i.height&&(t-=Math.ceil((i.height-h)/i.vDomRowHeight))<0&&(t=0),t-=a=Math.min(Math.max(Math.floor(i.vDomWindowBuffer/i.vDomRowHeight),i.vDomWindowMinMarginRows),t)}else i._clearVirtualDom();if(i.displayRowsCount&&i.element.is(":visible")){for(i.vDomTop=t,i.vDomBottom=t-1;(r<=i.height+i.vDomWindowBuffer||c<i.vDomWindowMinTotalRows)&&i.vDomBottom<i.displayRowsCount-1;){var p=i.vDomBottom+1,d=u[p];i.styleRow(d,p),n.append(d.getElement()),d.initialized?d.heightInitialized||d.normalizeHeight(!0):d.initialize(!0),c<a?l+=d.getHeight():r+=d.getHeight(),i.vDomBottom++,c++}t?(i.vDomTopPad=e?i.vDomRowHeight*this.vDomTop+o:i.scrollTop-l,i.vDomBottomPad=i.vDomBottom==i.displayRowsCount-1?0:Math.max(i.vDomScrollHeight-i.vDomTopPad-r-l,0)):(this.vDomTopPad=0,i.vDomRowHeight=Math.floor((r+l)/c),i.vDomBottomPad=i.vDomRowHeight*(i.displayRowsCount-i.vDomBottom-1),i.vDomScrollHeight=l+r+i.vDomBottomPad-i.height),n[0].style.paddingTop=i.vDomTopPad+"px",n[0].style.paddingBottom=i.vDomBottomPad+"px",e&&(this.scrollTop=i.vDomTopPad+l+o),this.scrollTop=Math.min(this.scrollTop,this.element[0].scrollHeight-this.height),this.element[0].scrollWidth>this.element[0].offsetWidt&&(this.scrollTop+=this.element[0].offsetHeight-this.element[0].clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,s.scrollTop(this.scrollTop),i.table.options.groupBy&&"fitDataFill"!=i.table.extensions.layout.getMode()&&i.displayRowsCount==i.table.extensions.groupRows.countGroups()&&i.tableElement.css({"min-width":i.table.columnManager.getWidth()})}else this.renderEmptyScroll()},i.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,o=this.scrollTop-this.vDomScrollPosBottom,i=2*this.vDomWindowBuffer;if(i<-e||i<o){var n=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element[0].scrollTop/this.element[0].scrollHeight*this.displayRowsCount)),this.scrollHorizontal(n)}else t?(e<0&&this._addTopRow(-e),e<0&&this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer&&this._removeBottomRow(-o)):(0<=e&&this.scrollTop>this.vDomWindowBuffer&&this._removeTopRow(e),0<=o&&this._addBottomRow(o))},i.prototype._addTopRow=function(t){var e=1<arguments.length&&arguments[1]!==W?arguments[1]:0,o=this.tableElement,i=this.getDisplayRows();if(this.vDomTop){var n=this.vDomTop-1,s=i[n],a=s.getHeight()||this.vDomRowHeight;a<=t&&(this.styleRow(s,n),o.prepend(s.getElement()),s.initialized&&s.heightInitialized||(this.vDomTopNewRows.push(s),s.heightInitialized||s.clearCellHeight()),s.initialize(),this.vDomTopPad-=a,this.vDomTopPad<0&&(this.vDomTopPad=n*this.vDomRowHeight),n||(this.vDomTopPad=0),o[0].style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=a,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(i[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},i.prototype._removeTopRow=function(t){var e=this.tableElement,o=this.getDisplayRows()[this.vDomTop],i=o.getHeight()||this.vDomRowHeight;i<=t&&(o.element.detach(),this.vDomTopPad+=i,e[0].style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer,this.vDomTop++,t=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(t))},i.prototype._addBottomRow=function(t){var e=1<arguments.length&&arguments[1]!==W?arguments[1]:0,o=this.tableElement,i=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var n=this.vDomBottom+1,s=i[n],a=s.getHeight()||this.vDomRowHeight;a<=t&&(this.styleRow(s,n),o.append(s.getElement()),s.initialized&&s.heightInitialized||(this.vDomBottomNewRows.push(s),s.heightInitialized||s.clearCellHeight()),s.initialize(),this.vDomBottomPad-=a,(this.vDomBottomPad<0||n==this.displayRowsCount-1)&&(this.vDomBottomPad=0),o[0].style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=a,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(i[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},i.prototype._removeBottomRow=function(t){var e=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],i=o.getHeight()||this.vDomRowHeight;i<=t&&(o.element.detach(),this.vDomBottomPad+=i,this.vDomBottomPad<0&&this.vDomBottomPad,e[0].style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i,this.vDomBottom--,t=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(t))},i.prototype._quickNormalizeRowHeight=function(t){t.forEach(function(t){t.calcHeight()}),t.forEach(function(t){t.setCellHeight()}),t.length=0},i.prototype.normalizeHeight=function(){this.activeRows.forEach(function(t){t.normalizeHeight()})},i.prototype.adjustTableSize=function(){var t=this;if("virtual"===this.renderMode){t.height=t.element.innerHeight(),t.vDomWindowBuffer=t.table.options.virtualDomBuffer||t.height;var e=t.columnManager.getElement().outerHeight()+(t.table.footerManager?t.table.footerManager.getElement().outerHeight():0);t.element.css({"min-height":"calc(100% - "+e+"px)",height:"calc(100% - "+e+"px)","max-height":"calc(100% - "+e+"px)"})}},i.prototype.reinitialize=function(){this.rows.forEach(function(t){t.reinitialize()})},i.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),t?this.renderTable():("simple"==self.renderMode?this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().append(this.table.options.placeholder))},i.prototype.resetScroll=function(){this.element.scrollLeft(0),this.element.scrollTop(0),this.element.scroll()};var n=function(t){this.row=t};n.prototype.getData=function(t){return this.row.getData(t)},n.prototype.getElement=function(){return this.row.getElement()},n.prototype.getCells=function(){var e=[];return this.row.getCells().forEach(function(t){e.push(t.getComponent())}),e},n.prototype.getCell=function(t){return this.row.getCell(t).getComponent()},n.prototype.getIndex=function(){return this.row.getData("data")[this.row.table.options.index]},n.prototype.getPosition=function(t){return this.row.table.rowManager.getRowPosition(this.row,t)},n.prototype.delete=function(){this.row.delete()},n.prototype.scrollTo=function(){this.row.table.rowManager.scrollToRow(this.row)},n.prototype.update=function(t){this.row.updateData(t)},n.prototype.normalizeHeight=function(){this.row.normalizeHeight(!0)},n.prototype.select=function(){this.row.table.extensions.selectRow.selectRows(this.row)},n.prototype.deselect=function(){this.row.table.extensions.selectRow.deselectRows(this.row)},n.prototype.toggleSelect=function(){this.row.table.extensions.selectRow.toggleRow(this.row)},n.prototype._getSelf=function(){return this.row},n.prototype.freeze=function(){this.row.table.extExists("frozenRows",!0)&&this.row.table.extensions.frozenRows.freezeRow(this.row)},n.prototype.unfreeze=function(){this.row.table.extExists("frozenRows",!0)&&this.row.table.extensions.frozenRows.unfreezeRow(this.row)},n.prototype.reformat=function(){return this.row.reinitialize()},n.prototype.getGroup=function(){return this.row.getGroup().getComponent()};var u=function(t,e){this.table=e.table,this.parent=e,this.data={},this.type="row",this.element=j("<div class='tabulator-row' role='row'></div>"),this.extensions={},this.cells=[],this.height=0,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.setData(t),this.generateElement()};u.prototype.getElement=function(){return this.element},u.prototype.generateElement=function(){var e,o,i,n=this;!1!==n.table.options.selectable&&n.table.extExists("selectRow")&&n.table.extensions.selectRow.initializeRow(this),!1!==n.table.options.movableRows&&n.table.extExists("moveRow")&&n.table.extensions.moveRow.initializeRow(this),n.table.options.rowClick&&n.element.on("click",function(t){n.table.options.rowClick(t,n.getComponent())}),n.table.options.rowDblClick&&n.element.on("dblclick",function(t){n.table.options.rowDblClick(t,n.getComponent())}),n.table.options.rowContext&&n.element.on("contextmenu",function(t){n.table.options.rowContext(t,n.getComponent())}),n.table.options.rowTap&&(i=!1,n.element.on("touchstart",function(t){i=!0}),n.element.on("touchend",function(t){i&&n.table.options.rowTap(t,n.getComponent()),i=!1})),n.table.options.rowDblTap&&(e=null,n.element.on("touchend",function(t){e?(clearTimeout(e),e=null,n.table.options.rowDblTap(t,n.getComponent())):e=setTimeout(function(){clearTimeout(e),e=null},300)})),n.table.options.rowTapHold&&(o=null,n.element.on("touchstart",function(t){clearTimeout(o),o=setTimeout(function(){clearTimeout(o),o=null,i=!1,n.table.options.rowTapHold(t,n.getComponent())},1e3)}),n.element.on("touchend",function(t){clearTimeout(o),o=null}))},u.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},u.prototype.initialize=function(t){var e=this;e.initialized&&!t||(e.deleteCells(),e.element.empty(),this.table.extExists("frozenColumns")&&this.table.extensions.frozenColumns.layoutRow(this),this.generateCells(),e.cells.forEach(function(t){e.element.append(t.getElement())}),t&&e.normalizeHeight(),"collapse"===e.table.options.responsiveLayout&&e.table.extExists("responsiveLayout")&&e.table.extensions.responsiveLayout.layoutRow(this),e.table.options.rowFormatter&&e.table.options.rowFormatter(e.getComponent()),e.table.options.resizableRows&&e.table.extExists("resizeRows")&&e.table.extensions.resizeRows.initializeRow(e),e.initialized=!0)},u.prototype.reinitializeHeight=function(){this.heightInitialized=!1,null!==this.element[0].offsetParent&&this.normalizeHeight(!0)},u.prototype.reinitialize=function(){this.initialized=!1,this.heightInitialized=!1,this.height=0,null!==this.element[0].offsetParent&&this.initialize(!0)},u.prototype.calcHeight=function(){var o=0,t=this.element[0].clientHeight;this.cells.forEach(function(t){var e=t.getHeight();o<e&&(o=e)}),this.height=Math.max(o,t),this.outerHeight=this.element[0].offsetHeight},u.prototype.setCellHeight=function(){var e=this.height;this.cells.forEach(function(t){t.setHeight(e)}),this.heightInitialized=!0},u.prototype.clearCellHeight=function(){this.cells.forEach(function(t){t.clearHeight()})},u.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(),this.setCellHeight()},u.prototype.setHeight=function(t){this.height=t,this.setCellHeight()},u.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.height=t,this.setCellHeight(),this.outerHeight=this.element[0].offsetHeight)},u.prototype.getHeight=function(){return this.outerHeight},u.prototype.getWidth=function(){return this.element.outerWidth()},u.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);-1<e&&this.cells.splice(e,1)},u.prototype.setData=function(t){this.table.extExists("mutator")?this.data=this.table.extensions.mutator.transformRow(t,"data"):this.data=t},u.prototype.updateData=function(t){var e=this;for(var o in"string"==typeof t&&(t=JSON.parse(t)),e.table.extExists("mutator")&&(t=e.table.extensions.mutator.transformRow(t,"data")),t)e.data[o]=t[o];for(var o in t){var i=this.getCell(o);i&&i.getValue()!=t[o]&&i.setValueProcessData(t[o])}this.element.is(":visible")?(e.normalizeHeight(),e.table.options.rowFormatter&&e.table.options.rowFormatter(e.getComponent())):(this.initialized=!1,this.height=0),e.table.options.rowUpdated(e.getComponent())},u.prototype.getData=function(t){return t?this.table.extExists("accessor")?this.table.extensions.accessor.transformRow(this.data,t):void 0:this.data},u.prototype.getCell=function(e){e=this.table.columnManager.findColumn(e);return this.cells.find(function(t){return t.column===e})},u.prototype.getCellIndex=function(e){return this.cells.findIndex(function(t){return t===e})},u.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var o=t+1;o<this.cells.length;o++){var i=this.cells[o];if(i.column.extensions.edit&&i.getElement().is(":visible")){var n=!0;if("function"==typeof i.column.extensions.edit.check&&(n=i.column.extensions.edit.check(i.getComponent())),n){e=i;break}}}return e},u.prototype.findPrevEditableCell=function(t){var e=!1;if(0<t)for(var o=t-1;0<=o;o--){var i=this.cells[o],n=!0;if(i.column.extensions.edit&&i.getElement().is(":visible")&&("function"==typeof i.column.extensions.edit.check&&(n=i.column.extensions.edit.check(i.getComponent())),n)){e=i;break}}return e},u.prototype.getCells=function(){return this.cells},u.prototype.delete=function(){var t=this.table.rowManager.getRowIndex(this);this.deleteActual(),this.table.options.history&&this.table.extExists("history")&&(t&&(t=this.table.rowManager.rows[t-1]),this.table.extensions.history.action("rowDelete",this,{data:this.getData(),pos:!t,index:t}))},u.prototype.deleteActual=function(){this.table.rowManager.getRowIndex(this);this.table.extExists("selectRow")&&this.table.extensions.selectRow._deselectRow(this.row,!0),this.table.rowManager.deleteRow(this),this.deleteCells(),this.extensions.group&&this.extensions.group.removeRow(this),this.table.extExists("columnCalcs")&&(this.table.options.groupBy&&this.table.extExists("groupRows")?this.table.extensions.columnCalcs.recalcRowGroup(this):this.table.extensions.columnCalcs.recalc(this.table.rowManager.activeRows))},u.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},u.prototype.wipe=function(){this.deleteCells(),this.element.children().each(function(){j(this).remove()}),this.element.empty(),this.element.remove()},u.prototype.getGroup=function(){return this.extensions.group||!1},u.prototype.getComponent=function(){return new n(this)};var s=function(t){this.cell=t};s.prototype.getValue=function(){return this.cell.getValue()},s.prototype.getOldValue=function(){return this.cell.getOldValue()},s.prototype.getElement=function(){return j(this.cell.getElement())},s.prototype.getRow=function(){return this.cell.row.getComponent()},s.prototype.getData=function(){return this.cell.row.getData()},s.prototype.getField=function(){return this.cell.column.getField()},s.prototype.getColumn=function(){return this.cell.column.getComponent()},s.prototype.setValue=function(t,e){void 0===e&&(e=!0),this.cell.setValue(t,e)},s.prototype.restoreOldValue=function(){this.cell.setValueActual(this.cell.getOldValue())},s.prototype.edit=function(t){return this.cell.edit(t)},s.prototype.cancelEdit=function(){this.cell.cancelEdit(force)},s.prototype.nav=function(){return this.cell.nav()},s.prototype.checkHeight=function(){this.cell.checkHeight()},s.prototype._getSelf=function(){return this.cell};var r=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.height=null,this.width=null,this.minWidth=null,this.build()};r.prototype.build=function(){this.generateElement(),this.setWidth(this.column.width),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data))},r.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=j(this.element)},r.prototype._configureCell=function(){var o,i,n,s=this,a=s.column.cellEvents,t=s.element,e=this.column.getField();t[0].style.textAlign=s.column.hozAlign,e&&t.attr("tabulator-field",e),s.column.definition.cssClass&&t.addClass(s.column.definition.cssClass),(a.cellClick||s.table.options.cellClick)&&s.element.on("click",function(t){var e=s.getComponent();a.cellClick&&a.cellClick(t,e),s.table.options.cellClick&&s.table.options.cellClick(t,e)}),(a.cellDblClick||this.table.options.cellDblClick)&&s.element.on("dblclick",function(t){var e=s.getComponent();a.cellDblClick&&a.cellDblClick(t,e),s.table.options.cellDblClick&&s.table.options.cellDblClick(t,e)}),(a.cellContext||this.table.options.cellContext)&&s.element.on("contextmenu",function(t){var e=s.getComponent();a.cellContext&&a.cellContext(t,e),s.table.options.cellContext&&s.table.options.cellContext(t,e)}),"hover"===this.table.options.tooltipGenerationMode&&s.element.on("mouseenter",function(t){s._generateTooltip()}),(a.cellTap||this.table.options.cellTap)&&(n=!1,s.element.on("touchstart",function(t){n=!0}),s.element.on("touchend",function(t){if(n){var e=s.getComponent();a.cellTap&&a.cellTap(t,e),s.table.options.cellTap&&s.table.options.cellTap(t,e)}n=!1})),(a.cellDblTap||this.table.options.cellDblTap)&&(o=null,s.element.on("touchend",function(t){if(o){clearTimeout(o),o=null;var e=s.getComponent();a.cellDblTap&&a.cellDblTap(t,e),s.table.options.cellDblTap&&s.table.options.cellDblTap(t,e)}else o=setTimeout(function(){clearTimeout(o),o=null},300)})),(a.cellTapHold||this.table.options.cellTapHold)&&(i=null,s.element.on("touchstart",function(e){clearTimeout(i),i=setTimeout(function(){clearTimeout(i),i=null,n=!1;var t=s.getComponent();a.cellTapHold&&a.cellTapHold(e,t),s.table.options.cellTapHold&&s.table.options.cellTapHold(e,t)},1e3)}),s.element.on("touchend",function(t){clearTimeout(i),i=null})),s.column.extensions.edit&&s.table.extensions.edit.bindEditor(s),s.column.definition.rowHandle&&!1!==s.table.options.movableRows&&s.table.extExists("moveRow")&&s.table.extensions.moveRow.initializeCell(s),s.column.visible||s.hide()},r.prototype._generateContents=function(){var t=this;t.table.extExists("format")?t.element.html(t.table.extensions.format.formatValue(t)):t.element.html(t.value)},r.prototype._generateTooltip=function(){var t=this,e=t.column.tooltip;e?(!0===e?e=t.value:"function"==typeof e&&!1===(e=e(t.getComponent()))&&(e=""),t.element[0].setAttribute("title",e)):t.element[0].setAttribute("title","")},r.prototype.getElement=function(){return this.element},r.prototype.getValue=function(){return this.value},r.prototype.getOldValue=function(){return this.oldValue},r.prototype.setValue=function(t,e){var o;this.setValueProcessData(t,e)&&(this.table.options.history&&this.table.extExists("history")&&this.table.extensions.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),o=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited(o),this.table.options.cellEdited(o),this.table.options.dataEdited(this.table.rowManager.getData())),this.table.extExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.extExists("groupRows")?this.table.extensions.columnCalcs.recalcRowGroup(this.row):this.table.extensions.columnCalcs.recalc(this.table.rowManager.activeRows))},r.prototype.setValueProcessData=function(t,e){var o=!1;return this.value!=t&&(o=!0,e&&this.column.extensions.mutate&&(t=this.table.extensions.mutator.transformCell(this,t))),this.setValueActual(t),o},r.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.column.setFieldValue(this.row.data,t),this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.extExists("resizeColumns")&&this.table.extensions.resizeColumns.initializeColumn("cell",this.column,this.element),this.table.extExists("frozenColumns")&&this.table.extensions.frozenColumns.layoutElement(this.element,this.column)},r.prototype.setWidth=function(t){this.width=t,this.element[0].style.width=t?t+"px":""},r.prototype.getWidth=function(){return this.width||this.element.outerWidth()},r.prototype.setMinWidth=function(t){this.minWidth=t,this.element[0].style.minWidth=t?t+"px":""},r.prototype.checkHeight=function(){this.element.css("height");this.row.reinitializeHeight()},r.prototype.clearHeight=function(){this.element[0].style.height=""},r.prototype.setHeight=function(t){this.height=t,this.element[0].style.height=t?t+"px":""},r.prototype.getHeight=function(){return this.height||this.element.outerHeight()},r.prototype.show=function(){this.element[0].style.display=""},r.prototype.hide=function(){this.element[0].style.display="none"},r.prototype.edit=function(t){if(this.table.extExists("edit",!0))return this.table.extensions.edit.editCell(this,!1,t)},r.prototype.cancelEdit=function(){if(this.table.extExists("edit",!0)){var t=this.table.extensions.edit.getCurrentCell();t&&t._getSelf()===this?this.table.extensions.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},r.prototype.delete=function(){this.element.detach(),this.column.deleteCell(this),this.row.deleteCell(this)},r.prototype.nav=function(){var o=this,t=!1,e=this.row.getCellIndex(this);return{next:function(){var t,e=this.right();return!!e||!(!(t=o.table.rowManager.nextDisplayRow(o.row,!0))||!(e=t.findNextEditableCell(-1)))&&(e.edit(),!0)},prev:function(){var t,e=this.left();return!!e||!(!(t=o.table.rowManager.prevDisplayRow(o.row,!0))||!(e=t.findPrevEditableCell(t.cells.length)))&&(e.edit(),!0)},left:function(){return!!(t=o.row.findPrevEditableCell(e))&&(t.edit(),!0)},right:function(){return!!(t=o.row.findNextEditableCell(e))&&(t.edit(),!0)},up:function(){var t=o.table.rowManager.prevDisplayRow(o.row,!0);t&&t.cells[e].edit()},down:function(){var t=o.table.rowManager.nextDisplayRow(o.row,!0);t&&t.cells[e].edit()}}},r.prototype.getIndex=function(){this.row.getCellIndex(this)},r.prototype.getComponent=function(){return new s(this)};var l=function(t){this.table=t,this.active=!1,this.element=j("<div class='tabulator-footer'></div>"),this.links=[],this._initialize()};l.prototype._initialize=function(t){this.table.options.footerElement&&(this.element=this.table.options.footerElement)},l.prototype.getElement=function(){return this.element},l.prototype.append=function(t,e){this.activate(e),this.element.append(t),this.table.rowManager.adjustTableSize()},l.prototype.prepend=function(t,e){this.activate(e),this.element.prepend(t),this.table.rowManager.adjustTableSize()},l.prototype.remove=function(t){t.remove(),this.deactivate()},l.prototype.deactivate=function(t){(this.element.is(":empty")||t)&&(this.element.remove(),this.active=!1)},l.prototype.activate=function(t){this.active||(this.active=!0,this.table.element.append(this.getElement()),this.table.element.show()),t&&this.links.push(t)},l.prototype.redraw=function(){this.links.forEach(function(t){t.footerRedraw()})},window.Tabulator={columnManager:null,rowManager:null,footerManager:null,browser:"",browserSlow:!1,options:{height:!1,layout:"fitData",layoutColumnsOnNewData:!1,fitColumns:!1,columnMinWidth:40,columnVertAlign:"top",resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],data:[],tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,footerElement:!1,index:"id",keybindings:[],clipboard:!1,clipboardCopySelector:"active",clipboardCopyFormatter:"table",clipboardCopyHeader:!0,clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,addRowPos:"bottom",selectable:"highlight",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterPlaceholder:!1,history:!1,locale:!1,langs:{},virtualDom:!0,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistentLayoutID:"",responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationButtonCount:5,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginator:!1,paginationAddRow:"page",ajaxURL:!1,ajaxParams:{},ajaxConfig:"get",ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupHeader:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:function(){},ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationFailed:function(){},historyUndo:function(){},historyRedo:function(){}},_mapDepricatedFunctionality:function(){this.options.fitColumns&&(this.options.layout="fitColumns",console.warn("The%c fitColumns:true%c option has been depricated and will be removed in version 4.0, use %c layout:'fitColumns'%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;")),this.options.persistentLayoutID&&(this.options.persistenceID=this.options.persistentLayoutID,console.warn("The%c persistentLayoutID%c option has been depricated and will be removed in version 4.0, use %c persistenceID%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;")),"cookie"!==this.options.persistentLayout&&"local"!==this.options.persistentLayout||(this.options.persistenceMode=this.options.persistentLayout,this.options.persistentLayout=!0,console.warn("Setting the persistent storage mode on the%c persistentLayout%c option has been depricated and will be removed in version 4.0, use %c persistenceMode%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;")),this.options.downloadDataMutator&&(this.options.downloadDataFormatter=this.options.downloadDataMutator,console.warn("The%c downloadDataMutator%c option has been depricated and will be removed in version 4.0, use %cdownloadDataFormatter%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;"))},_create:function(){var t=this,e=this.element;t._clearObjectPointers(),t._mapDepricatedFunctionality(),t.bindExtensions(),e.is("table")?this.extExists("htmlTableImport",!0)&&t.extensions.htmlTableImport.parseTable():(t.columnManager=new o(t),t.rowManager=new i(t),t.footerManager=new l(t),t.columnManager.setRowManager(t.rowManager),t.rowManager.setColumnManager(t.columnManager),t._buildElement(),this._loadInitialData())},_clearObjectPointers:function(){this.options.columns=this.options.columns.slice(0),this.options.data=this.options.data.slice(0)},_buildElement:function(){var t=this.element,e=this.extensions,o=this.options;for(var i in o.tableBuilding(),t.addClass("tabulator").attr("role","grid").empty(),o.height&&(o.height=isNaN(o.height)?o.height:o.height+"px",this.element.css({height:o.height})),this.rowManager.initialize(),this._detectBrowser(),this.extExists("layout",!0)&&e.layout.initialize(o.layout),!1!==o.headerFilterPlaceholder&&e.localize.setHeaderFilterPlaceholder(o.headerFilterPlaceholder),o.langs)e.localize.installLang(i,o.langs[i]);if(e.localize.setLocale(o.locale),"string"==typeof o.placeholder&&(o.placeholder=j("<div class='tabulator-placeholder'><span>"+o.placeholder+"</span></div>")),t.append(this.columnManager.getElement()),t.append(this.rowManager.getElement()),o.footerElement&&this.footerManager.activate(),(o.persistentLayout||o.persistentSort||o.persistentFilter)&&this.extExists("persistence",!0)&&e.persistence.initialize(o.persistenceMode,o.persistenceID),o.persistentLayout&&this.extExists("persistence",!0)&&(o.columns=e.persistence.load("columns",o.columns)),o.movableRows&&this.extExists("moveRow")&&e.moveRow.initialize(),this.extExists("columnCalcs")&&e.columnCalcs.initialize(),this.columnManager.setColumns(o.columns),this.extExists("frozenRows")&&this.extensions.frozenRows.initialize(),(o.persistentSort||o.initialSort)&&this.extExists("sort",!0)){var n=[];o.persistentSort&&this.extExists("persistence",!0)?!1===(n=e.persistence.load("sort"))&&o.initialSort&&(n=o.initialSort):o.initialSort&&(n=o.initialSort),e.sort.setSort(n)}if(o.persistentFilter&&this.extExists("persistence",!0)){var s=e.persistence.load("filter");!1!==s&&this.setFilter(s)}this.extExists("ajax")&&e.ajax.initialize(),o.pagination&&this.extExists("page",!0)&&e.page.initialize(),o.groupBy&&this.extExists("groupRows",!0)&&e.groupRows.initialize(),this.extExists("keybindings")&&e.keybindings.initialize(),this.extExists("selectRow")&&e.selectRow.clearSelectionData(!0),o.autoResize&&this.extExists("resizeTable")&&e.resizeTable.initialize(),this.extExists("clipboard")&&e.clipboard.initialize(),o.tableBuilt()},_loadInitialData:function(){var t=this;t.options.pagination&&t.extExists("page")?(t.extensions.page.reset(!0),"local"==t.options.pagination?t.options.data.length?t.rowManager.setData(t.options.data):t.options.ajaxURL&&t.extExists("ajax")?t.extensions.ajax.loadData():t.rowManager.setData(t.options.data):t.extensions.page.setPage(1)):t.options.data.length?t.rowManager.setData(t.options.data):t.options.ajaxURL&&t.extExists("ajax")?t.extensions.ajax.loadData():t.rowManager.setData(t.options.data)},_setOption:function(t,e){console.error("Options Error - Tabulator does not allow options to be set after initialization unless there is a function defined for that purpose")},_destroy:function(){var t=this.element;this.rowManager.rows.forEach(function(t){t.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.extExists("resizeTable")&&this.extensions.resizeTable.clearBindings(),this.extExists("keybindings")&&this.extensions.keybindings.clearBindings(),t.empty(),t.removeClass("tabulator")},_detectBrowser:function(){var t=navigator.userAgent;-1<t.indexOf("Trident")?(this.browser="ie",this.browserSlow=!0):-1<t.indexOf("Edge")?(this.browser="edge",this.browserSlow=!0):(-1<t.indexOf("Firefox")?this.browser="firefox":this.browser="other",this.browserSlow=!1)},setData:function(t,e,o){this.extExists("ajax")&&this.extensions.ajax.blockActiveRequest(),this._setData(t,e,o)},_setData:function(t,e,o,i){var n=this;"string"==typeof t?0==t.indexOf("{")||0==t.indexOf("[")?n.rowManager.setData(JSON.parse(t),i):n.extExists("ajax",!0)&&(e&&n.extensions.ajax.setParams(e),o&&n.extensions.ajax.setConfig(o),n.extensions.ajax.setUrl(t),"remote"==n.options.pagination&&n.extExists("page",!0)?(n.extensions.page.reset(!0),n.extensions.page.setPage(1)):n.extensions.ajax.loadData(i)):t?n.rowManager.setData(t,i):n.extExists("ajax")&&n.extensions.ajax.getUrl?"remote"==n.options.pagination&&n.extExists("page",!0)?(n.extensions.page.reset(!0),n.extensions.page.setPage(1)):n.extensions.ajax.loadData(i):n.rowManager.setData([],i)},clearData:function(){this.extExists("ajax")&&this.extensions.ajax.blockActiveRequest(),this.rowManager.clearData()},getData:function(t){return this.rowManager.getData(t)},getDataCount:function(t){return this.rowManager.getDataCount(t)},getHtml:function(t){return this.rowManager.getHtml(t)},getAjaxUrl:function(){if(this.extExists("ajax",!0))return this.extensions.ajax.getUrl()},replaceData:function(t,e,o){this.extExists("ajax")&&this.extensions.ajax.blockActiveRequest(),this._setData(t,e,o,!0)},updateData:function(t){var o=this;this.extExists("ajax")&&this.extensions.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach(function(t){var e=o.rowManager.findRow(t[o.options.index]);e&&e.updateData(t)}):console.warn("Update Error - No data provided")},addData:function(t,e,o){var i=[];if(this.extExists("ajax")&&this.extensions.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t)return this.rowManager.addRows(t,e,o).forEach(function(t){i.push(t.getComponent())}),i;console.warn("Update Error - No data provided")},updateOrAddData:function(t){var o=this,i=[];if(this.extExists("ajax")&&this.extensions.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t)return t.forEach(function(t){var e=o.rowManager.findRow(t[o.options.index]);e?(e.updateData(t),i.push(e.getComponent())):i.push(o.rowManager.addRows(t)[0].getComponent())}),i;console.warn("Update Error - No data provided")},getRow:function(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},getRowFromPosition:function(t,e){var o=this.rowManager.getRowFromPosition(t,e);return o?o.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},deleteRow:function(t){var e=this.rowManager.findRow(t);return e?(e.delete(),!0):(console.warn("Delete Error - No matching row found:",t),!1)},addRow:function(t,e,o){var i;return"string"==typeof t&&(t=JSON.parse(t)),i=this.rowManager.addRows(t,e,o)[0],this.extExists("columnCalcs")&&this.extensions.columnCalcs.recalc(this.rowManager.activeRows),i.getComponent()},updateOrAddRow:function(t,e){var o=this.rowManager.findRow(t);return"string"==typeof e&&(e=JSON.parse(e)),o?o.updateData(e):(o=this.rowManager.addRows(e)[0],this.extExists("columnCalcs")&&this.extensions.columnCalcs.recalc(this.rowManager.activeRows)),o.getComponent()},updateRow:function(t,e){var o=this.rowManager.findRow(t);return"string"==typeof e&&(e=JSON.parse(e)),o?(o.updateData(e),o.getComponent()):(console.warn("Update Error - No matching row found:",t),!1)},scrollToRow:function(t,e,o){var i=this.rowManager.findRow(t);return i?this.rowManager.scrollToRow(i,e,o):(console.warn("Scroll Error - No matching row found:",t),!1)},getRows:function(t){return this.rowManager.getComponents(t)},getRowPosition:function(t,e){var o=this.rowManager.findRow(t);return o?this.rowManager.getRowPosition(o,e):(console.warn("Position Error - No matching row found:",t),!1)},copyToClipboard:function(t,e,o,i){this.extExists("clipboard",!0)&&this.extensions.clipboard.copy(t,e,o,i)},setColumns:function(t){this.columnManager.setColumns(t)},getColumns:function(t){return this.columnManager.getComponents(t)},getColumnDefinitions:function(){return this.columnManager.getDefinitionTree()},getColumnLayout:function(){if(this.extExists("persistence",!0))return this.extensions.persistence.parseColumns(this.columnManager.getColumns())},setColumnLayout:function(t){return!!this.extExists("persistence",!0)&&(this.columnManager.setColumns(this.extensions.persistence.mergeDefinition(this.options.columns,t)),!0)},showColumn:function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show(),this.options.responsiveLayout&&this.extExists("responsiveLayout",!0)&&this.extensions.responsiveLayout.update()},hideColumn:function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide(),this.options.responsiveLayout&&this.extExists("responsiveLayout",!0)&&this.extensions.responsiveLayout.update()},toggleColumn:function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()},addColumn:function(t,e,o){var i=this.columnManager.findColumn(o);this.columnManager.addColumn(t,e,i)},deleteColumn:function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Delete Error - No matching column found:",t),!1;e.delete()},scrollToColumn:function(t,e,o){var i=this.columnManager.findColumn(t);return i?this.columnManager.scrollToColumn(i,e,o):(console.warn("Scroll Error - No matching column found:",t),!1)},setLocale:function(t){this.extensions.localize.setLocale(t)},getLocale:function(){return this.extensions.localize.getLocale()},getLang:function(t){return this.extensions.localize.getLang(t)},redraw:function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},setHeight:function(t){this.options.height=isNaN(t)?t:t+"px",this.element.css({height:this.options.height}),this.rowManager.redraw()},setSort:function(t,e){this.extExists("sort",!0)&&(this.extensions.sort.setSort(t,e),this.rowManager.sorterRefresh())},getSort:function(){if(this.extExists("sort",!0))return console.warn("The%c getSort%c function has been depricated and will be removed in version 4.0, use %c getSorters%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;"),this.getSorters()},getSorters:function(){if(this.extExists("sort",!0))return this.extensions.sort.getSort()},clearSort:function(){this.extExists("sort",!0)&&(this.extensions.sort.clear(),this.rowManager.sorterRefresh())},setFilter:function(t,e,o){this.extExists("filter",!0)&&(this.extensions.filter.setFilter(t,e,o),this.rowManager.filterRefresh())},addFilter:function(t,e,o){this.extExists("filter",!0)&&(this.extensions.filter.addFilter(t,e,o),this.rowManager.filterRefresh())},getFilter:function(t){console.warn("The%c getFilter%c function has been depricated and will be removed in version 4.0, use %c getFilters%c instead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;"),this.getFilters(t)},getFilters:function(t){if(this.extExists("filter",!0))return this.extensions.filter.getFilters(t)},setHeaderFilterFocus:function(t){if(this.extExists("filter",!0)){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.extensions.filter.setHeaderFilterFocus(e)}},setHeaderFilterValue:function(t,e){if(this.extExists("filter",!0)){var o=this.columnManager.findColumn(t);if(!o)return console.warn("Column Filter Error - No matching column found:",t),!1;this.extensions.filter.setHeaderFilterValue(o,e)}},getHeaderFilters:function(){if(this.extExists("filter",!0))return this.extensions.filter.getHeaderFilters()},removeFilter:function(t,e,o){this.extExists("filter",!0)&&(this.extensions.filter.removeFilter(t,e,o),this.rowManager.filterRefresh())},clearFilter:function(t){this.extExists("filter",!0)&&(this.extensions.filter.clearFilter(t),this.rowManager.filterRefresh())},clearHeaderFilter:function(){this.extExists("filter",!0)&&(this.extensions.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},selectRow:function(t){this.extExists("selectRow",!0)&&this.extensions.selectRow.selectRows(t)},deselectRow:function(t){this.extExists("selectRow",!0)&&this.extensions.selectRow.deselectRows(t)},toggleSelectRow:function(t){this.extExists("selectRow",!0)&&this.extensions.selectRow.toggleRow(t)},getSelectedRows:function(){if(this.extExists("selectRow",!0))return this.extensions.selectRow.getSelectedRows()},getSelectedData:function(){if(this.extExists("selectRow",!0))return this.extensions.selectRow.getSelectedData()},setMaxPage:function(t){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.setMaxPage(t)},setPage:function(t){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.setPage(t)},setPageSize:function(t){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.setPageSize(t),this.extensions.page.setPage(1)},getPageSize:function(){if(this.options.pagination&&this.extExists("page",!0))return this.extensions.page.getPageSize()},previousPage:function(){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.previousPage()},nextPage:function(){if(!this.options.pagination||!this.extExists("page"))return!1;this.extensions.page.nextPage()},getPage:function(){return!(!this.options.pagination||!this.extExists("page"))&&this.extensions.page.getPage()},getPageMax:function(){return!(!this.options.pagination||!this.extExists("page"))&&this.extensions.page.getPageMax()},setGroupBy:function(t){if(!this.extExists("groupRows",!0))return!1;this.options.groupBy=t,this.extensions.groupRows.initialize(),this.rowManager.refreshActiveData("display")},setGroupStartOpen:function(t){if(!this.extExists("groupRows",!0))return!1;this.options.groupStartOpen=t,this.extensions.groupRows.initialize(),this.options.groupBy?this.rowManager.refreshActiveData("group"):console.warn("Grouping Update - cant refresh view, no groups have been set")},setGroupHeader:function(t){if(!this.extExists("groupRows",!0))return!1;this.options.groupHeader=t,this.extensions.groupRows.initialize(),this.options.groupBy?this.rowManager.refreshActiveData("group"):console.warn("Grouping Update - cant refresh view, no groups have been set")},getGroups:function(t){return!!this.extExists("groupRows",!0)&&this.extensions.groupRows.getGroups()},getCalcResults:function(){return!!this.extExists("columnCalcs",!0)&&this.extensions.columnCalcs.getResults()},navigatePrev:function(){var t=!1;return!(!this.extExists("edit",!0)||!(t=this.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().prev())},navigateNext:function(){var t=!1;return!(!this.extExists("edit",!0)||!(t=this.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().next())},navigateLeft:function(){var t=!1;return!(!this.extExists("edit",!0)||!(t=this.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().left())},navigateRight:function(){var t=!1;return!(!this.extExists("edit",!0)||!(t=this.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().right())},navigateUp:function(){var t=!1;return!(!this.extExists("edit",!0)||!(t=this.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().up())},navigateDown:function(){var t=!1;return!(!this.extExists("edit",!0)||!(t=this.extensions.edit.currentCell))&&(e.preventDefault(),t.nav().dpwn())},undo:function(){return!(!this.options.history||!this.extExists("history",!0))&&this.extensions.history.undo()},redo:function(){return!(!this.options.history||!this.extExists("history",!0))&&this.extensions.history.redo()},download:function(t,e,o){this.extExists("download",!0)&&this.extensions.download.download(t,e,o)},tableComms:function(t,e,o,i){this.extensions.comms.receive(t,e,o,i)},extensions:{},extensionBindings:{},extendExtension:function(t,e,o){if(this.extensionBindings[t]){var i=this.extensionBindings[t].prototype[e];if(i)if("object"==(void 0===o?"undefined":_typeof(o)))for(var n in o)i[n]=o[n];else console.warn("Extension Error - Invalid value type, it must be an object");else console.warn("Extension Error - property does not exist:",e)}else console.warn("Extension Error - extension does not exist:",t)},registerExtension:function(t,e){this.extensionBindings[t]=e},bindExtensions:function(){for(var t in this.extensions={},this.extensionBindings)this.extensions[t]=new this.extensionBindings[t](this)},extExists:function(t,e){return!!this.extensions[t]||(e&&console.error("Tabulator Plugin Not Installed: "+t),!1)}};var c=function(t){this.table=t,this.mode=null};c.prototype.initialize=function(t){this.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.attr("tabulator-layout",this.mode)},c.prototype.getMode=function(){return this.mode},c.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex)},c.prototype.modes={fitData:function(t){t.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.update()},fitDataFill:function(t){t.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.update()},fitColumns:function(t){var e,o,i=this.table.element.innerWidth(),n=0,s=0,a=0,r=[],l=[],c=0,u=0;function d(t){return"string"==typeof t?-1<t.indexOf("%")?i/100*parseInt(t):parseInt(t):t}function f(t,e,o,i){var n=[],s=0,a=0,r=0,l=0,c=0,u=[];function h(t){return o*(t.column.definition.widthGrow||1)}function p(t){return d(t.width)-o*(t.column.definition.widthShrink||0)}return t.forEach(function(t,e){var o=i?p(t):h(t);t.column.minWidth>=o?n.push(t):(u.push(t),c+=i?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)}),n.length?(n.forEach(function(t){s+=i?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth}),l=(a=e-s)-(r=c?Math.floor(a/c):a)*c,l+=f(u,a,r,i)):(l=c?e-Math.floor(e/c)*c:e,u.forEach(function(t){t.width=i?p(t):h(t)})),l}this.table.options.responsiveLayout&&this.table.extExists("responsiveLayout",!0)&&this.table.extensions.responsiveLayout.update(),this.table.rowManager.element[0].scrollHeight>this.table.rowManager.element.innerHeight()&&(i-=this.table.rowManager.element[0].offsetWidth-this.table.rowManager.element[0].clientWidth),t.forEach(function(t){var e,o,i;t.visible&&(e=t.definition.width,o=parseInt(t.minWidth),e?(i=d(e),n+=o<i?i:o,t.definition.widthShrink&&(l.push({column:t,width:o<i?i:o}),c+=t.definition.widthShrink)):(r.push({column:t,width:0}),a+=t.definition.widthGrow||1))}),s=i-n,e=Math.floor(s/a);u=f(r,s,e,!1);r.length&&0<u&&(r[r.length-1].width+=+u),r.forEach(function(t){s-=t.width}),0<(o=Math.abs(u)+s)&&c&&(u=f(l,o,Math.floor(o/c),!0)),l.length&&(l[l.length-1].width-=u),r.forEach(function(t){t.column.setWidth(t.width)}),l.forEach(function(t){t.column.setWidth(t.width)})}},Tabulator.registerExtension("layout",c);var h=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={}};h.prototype.setHeaderFilterPlaceholder=function(t){this.langs.default.headerFilters.default=t},h.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langs.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},h.prototype.installLang=function(t,e){this.langs[t]?this._setLangProp(this.langs[t],e):this.langs[t]=e},h.prototype._setLangProp=function(t,e){for(var o in e)t[o]&&"object"==_typeof(t[o])?this._setLangProp(t[o],e[o]):t[o]=e[o]},h.prototype.setLocale=function(t){var e=this;if(!0===(t=t||"default")&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!e.langs[t]){var o=t.split("-")[0];e.langs[o]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,o),t=o):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}e.locale=t,e.lang=j.extend(!0,{},e.langs.default),"default"!=t&&function t(e,o){for(var i in e)"object"==_typeof(e[i])?(o[i]||(o[i]={}),t(e[i],o[i])):o[i]=e[i]}(e.langs[t],e.lang),e.table.options.localized(e.locale,e.lang),e._executeBindings()},h.prototype.getLocale=function(t){return self.locale},h.prototype.getLang=function(t){return t?this.langs[t]:this.lang},h.prototype.getText=function(t,e){var o=(t=e?t+"|"+e:t).split("|");return this._getLangElement(o,this.locale)||""},h.prototype._getLangElement=function(t,e){var o=this.lang;return t.forEach(function(t){var e;o&&(e=o[t],o=void 0!==e&&e)}),o},h.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},h.prototype._executeBindings=function(){var o=this,t=function(e){o.bindings[e].forEach(function(t){t(o.getText(e),o.lang)})};for(var e in o.bindings)t(e)},h.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page"},headerFilters:{default:"filter column...",columns:{}}}},Tabulator.registerExtension("localize",h);var p=function(t){this.table=t};p.prototype.getConnections=function(t){var e=this,o=[];return Array.isArray(t)?o=t:("string"==typeof t?j(t):t).each(function(){e.table.element[0]!==this&&o.push(j(this))}),o},p.prototype.send=function(t,e,o,i){var n=this,s=this.getConnections(t);s.forEach(function(t){t.tabulator("tableComms",n.table.element,e,o,i)}),!s.length&&t&&console.warn("Table Connection Error - No tables matching selector found",t)},p.prototype.receive=function(t,e,o,i){if(this.table.extExists(e))return this.table.extensions[e].commsReceived(t,o,i);console.warn("Inter-table Comms Error - no such extension:",e)},Tabulator.registerExtension("comms",p);var d=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard"]};d.prototype.initializeColumn=function(i){var n=this,s=!1,a={};this.allowedTypes.forEach(function(t){var e,o="accessor"+(t.charAt(0).toUpperCase()+t.slice(1));i.definition[o]&&(e=n.lookupAccessor(i.definition[o]))&&(s=!0,a[o]={accessor:e,params:i.definition[o+"Params"]||{}})}),s&&(i.extensions.accessor=a)},d.prototype.lookupAccessor=function(t){var e=!1;switch(void 0===t?"undefined":_typeof(t)){case"string":this.accessors[t]?e=this.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t}return e},d.prototype.transformRow=function(t,i){var n="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),s=j.extend(!0,{},t||{});return this.table.columnManager.traverse(function(t){var e,o;t.extensions.accessor&&(o=t.extensions.accessor[n]||t.extensions.accessor.accessor||!1)&&"undefined"!=(e=t.getFieldValue(s))&&t.setFieldValue(s,o.accessor(e,s,i,o.params,t.getComponent()))}),s},d.prototype.accessors={},Tabulator.registerExtension("accessor",d);var f=function(t){this.table=t,this.config=!1,this.url="",this.params=!1,this.loaderElement=j("<div class='tablulator-loader'></div>"),this.msgElement=j("<div class='tabulator-loader-msg' role='alert'></div>"),this.loadingElement=!1,this.errorElement=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};f.prototype.initialize=function(){this.loaderElement.append(this.msgElement),this.table.options.ajaxLoaderLoading&&(this.loadingElement=this.table.options.ajaxLoaderLoading),this.table.options.ajaxLoaderError&&(this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.extExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.extensions.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},f.prototype.setParams=function(t,e){if(e)for(var o in this.params=this.params||{},t)this.params[o]=t[o];else this.params=t},f.prototype.getParams=function(){return this.params||{}},f.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.type=t;else for(var e in t)this.config[e]=t[e]},f.prototype._loadDefaultConfig=function(t){var e=this;if(!e.config||t)for(var o in e.config={},e.defaultConfig)e.config[o]=e.defaultConfig[o]},f.prototype.setUrl=function(t){this.url=t},f.prototype.getUrl=function(){return this.url},f.prototype.loadData=function(t){this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t)},f.prototype.nextPage=function(t){this.loading||t<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element[0].clientHeight)&&this.table.extensions.page.nextPage()},f.prototype.blockActiveRequest=function(){this.requestOrder++},f.prototype._loadDataProgressive=function(){this.table.rowManager.setData([]),this.table.extensions.page.setPage(1)},f.prototype._loadDataStandard=function(e){var o=this;this.sendRequest(function(t){o.table.rowManager.setData(t,e)},e)},f.prototype.sendRequest=function(e,t){var o,i=this;if(!i.url)return console.warn("Ajax Load Error - No URL Set"),!1;i.requestOrder++,o=i.requestOrder,i._loadDefaultConfig(),i.config.url=i.url,i.params&&(i.config.data=i.params),!1!==i.table.options.ajaxRequesting(i.url,i.params)&&(i.loading=!0,t||i.showLoader(),j.ajax(i.config).done(function(t){o===i.requestOrder?(i.table.options.ajaxResponse&&(t=i.table.options.ajaxResponse(i.url,i.params,t)),e(t)):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made"),i.hideLoader(),i.loading=!1}).fail(function(t,e,o){console.error("Ajax Load Error - Connection Error: "+t.status,o),i.table.options.ajaxError(t,e,o),i.showError(),setTimeout(function(){i.hideLoader()},3e3),i.loading=!1}))},f.prototype.showLoader=function(){("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader)&&(this.loaderElement.detach(),this.msgElement.empty().removeClass("tabulator-error").addClass("tabulator-loading"),this.loadingElement?this.msgElement.append(this.loadingElement):this.msgElement.append(this.table.extensions.localize.getText("ajax|loading")),this.table.element.append(this.loaderElement))},f.prototype.showError=function(){this.loaderElement.detach(),this.msgElement.empty().removeClass("tabulator-loading").addClass("tabulator-error"),this.errorElement?this.msgElement.append(this.errorElement):this.msgElement.append(this.table.extensions.localize.getText("ajax|error")),this.table.element.append(this.loaderElement)},f.prototype.hideLoader=function(){this.loaderElement.detach()},f.prototype.defaultConfig={url:"",type:"GET",async:!0,dataType:"json",success:function(t){}},Tabulator.registerExtension("ajax",f);var g=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=j("<div class='tabulator-calcs-holder'></div>"),this.botElement=j("<div class='tabulator-calcs-holder'></div>"),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};g.prototype.initialize=function(){this.genColumn=new a({field:"value"},this)},g.prototype.registerColumnField=function(){},g.prototype.initializeColumn=function(t){var e=t.definition,o={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(_typeof(e.topCalc)){case"string":this.calculations[e.topCalc]?o.topCalc=this.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":o.topCalc=e.topCalc}o.topCalc&&(t.extensions.columnCalcs=o,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(_typeof(e.bottomCalc)){case"string":this.calculations[e.bottomCalc]?o.botCalc=this.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":o.botCalc=e.bottomCalc}o.botCalc&&(t.extensions.columnCalcs=o,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},g.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.remove(),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},g.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.headersElement.after(this.topElement),this.topInitialized=!0)},g.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},g.prototype.scrollHorizontal=function(t){this.table.columnManager.element[0].scrollWidth,this.table.element.innerWidth();this.botInitialized&&this.botRow.getElement().css("margin-left",-t)},g.prototype.recalc=function(t){var e;(this.topInitialized||this.botInitialized)&&(this.rowsToData(t),this.topInitialized&&(e=this.generateRow("top",this.rowsToData(t)),this.topRow=e,this.topElement.empty(),this.topElement.append(e.getElement()),e.initialize(!0)),this.botInitialized&&(e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e,this.botElement.empty(),this.botElement.append(e.getElement()),e.initialize(!0)),this.table.rowManager.adjustTableSize(),this.table.extExists("frozenColumns")&&this.table.extensions.frozenColumns.layout())},g.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.extensions.groupRows.getRowGroup(t))},g.prototype.recalcGroup=function(t){var e,o;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),o=this.generateRowData("bottom",e),t.calcs.bottom.updateData(o),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),o=this.generateRowData("top",e),t.calcs.top.updateData(o),t.calcs.top.reinitialize()))},g.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},g.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},g.prototype.rowsToData=function(t){var e=[];return t.forEach(function(t){e.push(t.getData())}),e},g.prototype.generateRow=function(i,t){var n=this,e=this.generateRowData(i,t),s=new u(e,this);return s.getElement().addClass("tabulator-calcs").addClass("tabulator-calcs-"+i),s.type="calc",s.generateCells=function(){var o=[];n.table.columnManager.columnsByIndex.forEach(function(t){if(t.visible){n.genColumn.setField(t.getField()),n.genColumn.hozAlign=t.hozAlign,t.definition[i+"CalcFormatter"]&&n.table.extExists("format")?n.genColumn.extensions.format={formatter:n.table.extensions.format.getFormatter(t.definition[i+"CalcFormatter"]),params:t.definition[i+"CalcFormatterParams"]}:n.genColumn.extensions.format={formatter:n.table.extensions.format.getFormatter("plaintext"),params:{}};var e=new r(n.genColumn,s);e.column=t,e.setWidth(t.width),t.cells.push(e),o.push(e)}}),this.cells=o},s},g.prototype.generateRowData=function(t,i){var n={},e="top"==t?this.topCalcs:this.botCalcs,s="top"==t?"topCalc":"botCalc";return e.forEach(function(e){var o=[];e.extensions.columnCalcs&&e.extensions.columnCalcs[s]&&(i.forEach(function(t){o.push(e.getFieldValue(t))}),e.setFieldValue(n,e.extensions.columnCalcs[s](o,i,e.extensions.columnCalcs[s+"Params"])))}),n},g.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},g.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},g.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},g.prototype.getResults=function(){var e=this,o={};return this.table.options.groupBy&&this.table.extExists("groupRows")?this.table.extensions.groupRows.getGroups().forEach(function(t){o[t.getKey()]=e.getGroupResults(t)}):o={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},o},g.prototype.getGroupResults=function(t){var e=this,o=t._getSelf(),i=t.getSubGroups(),n={};return i.forEach(function(t){n[t.getKey()]=e.getGroupResults(t)}),{top:o.calcs.top?o.calcs.top.getData():{},bottom:o.calcs.bottom?o.calcs.bottom.getData():{},groups:n}},g.prototype.calculations={avg:function(t,e,o){var i=0,n=void 0!==o.precision?o.precision:2;return t.length&&(i=t.reduce(function(t,e){return t+(e=Number(e))}),i/=t.length,i=!1!==n?i.toFixed(n):i),parseFloat(i).toString()},max:function(t,e,o){var i=null,n=void 0!==o.precision&&o.precision;return t.forEach(function(t){t=Number(t),(i<t||null===i)&&(i=t)}),null!==i?!1!==n?i.toFixed(n):i:""},min:function(t,e,o){var i=null,n=void 0!==o.precision&&o.precision;return t.forEach(function(t){((t=Number(t))<i||null===i)&&(i=t)}),null!==i?!1!==n?i.toFixed(n):i:""},sum:function(t,e,o){var i=0,n=void 0!==o.precision&&o.precision;return t.length&&t.forEach(function(t){t=Number(t),i+=isNaN(t)?0:Number(t)}),!1!==n?i.toFixed(n):i},concat:function(t,e,o){var i=0;return t.length&&(i=t.reduce(function(t,e){return String(t)+String(e)})),i},count:function(t,e,o){var i=0;return t.length&&t.forEach(function(t){t&&i++}),i}},Tabulator.registerExtension("columnCalcs",g);var m=function(t){this.table=t,this.mode=!0,this.copySelector=!1,this.copySelectorParams={},this.copyFormatter=!1,this.copyFormatterParams={},this.pasteParser=function(){},this.pasteAction=function(){},this.blocked=!0};m.prototype.initialize=function(){var o=this;this.mode=this.table.options.clipboard,!0!==this.mode&&"copy"!==this.mode||this.table.element.on("copy",function(t){var e;o.blocked||(t.preventDefault(),e=o.generateContent(),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",e):t.clipboardData&&t.clipboardData.setData?t.clipboardData.setData("text/plain",e):t.originalEvent&&t.originalEvent.clipboardData.setData&&t.originalEvent.clipboardData.setData("text/plain",e),o.table.options.clipboardCopied(e),o.reset())}),!0!==this.mode&&"paste"!==this.mode||this.table.element.on("paste",function(t){o.paste(t)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},m.prototype.reset=function(){this.blocked=!1,this.originalSelectionText=""},m.prototype.setPasteAction=function(t){switch(void 0===t?"undefined":_typeof(t)){case"string":this.pasteAction=this.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t}},m.prototype.setPasteParser=function(t){switch(void 0===t?"undefined":_typeof(t)){case"string":this.pasteParser=this.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t}},m.prototype.paste=function(t){var e,o,i;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),(o=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.extExists("mutator")&&(o=this.mutateData(o)),i=this.pasteAction.call(this,o),this.table.options.clipboardPasted(e,o,i)):this.table.options.clipboardPasteError(e))},m.prototype.mutateData=function(t){var e=this,o=[];return Array.isArray(t)?t.forEach(function(t){o.push(e.table.extensions.mutator.transformRow(t,"clipboard"))}):o=t,o},m.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.extensions.edit.currentCell)&&(e=!1),e},m.prototype.getPasteData=function(t){var e=W;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},m.prototype.copy=function(t,e,o,i,n){var s,a;!(this.blocked=!1)!==this.mode&&"copy"!==this.mode||(void 0!==window.getSelection&&void 0!==document.createRange?((s=document.createRange()).selectNodeContents(this.table.element[0]),(a=window.getSelection()).toString()&&n&&(t="userSelection",o="raw",this.copySelectorParams=a.toString()),a.removeAllRanges(),a.addRange(s)):void 0!==document.selection&&void 0!==document.body.createTextRange&&(textRange=document.body.createTextRange(),textRange.moveToElementText(this.table.element[0]),textRange.select()),this.setSelector(t),this.copySelectorParams=void 0!==e&&null!=e?e:this.table.options.clipboardCopyHeader,this.setFormatter(o),this.copyFormatterParams=void 0!==i&&null!=i?i:{},document.execCommand("copy"),a&&a.removeAllRanges())},m.prototype.setSelector=function(t){switch(void 0===(t=t||this.table.options.clipboardCopySelector)?"undefined":_typeof(t)){case"string":this.copySelectors[t]?this.copySelector=this.copySelectors[t]:console.warn("Clipboard Error - No such selector found:",t);break;case"function":this.copySelector=t}},m.prototype.setFormatter=function(t){switch(void 0===(t=t||this.table.options.clipboardCopyFormatter)?"undefined":_typeof(t)){case"string":this.copyFormatters[t]?this.copyFormatter=this.copyFormatters[t]:console.warn("Clipboard Error - No such formatter found:",t);break;case"function":this.copyFormatter=t}},m.prototype.generateContent=function(){var t=this.copySelector.call(this,this.copySelectorParams);return this.copyFormatter.call(this,t,this.copyFormatterParams)},m.prototype.rowsToData=function(t,e){var n=this.table.columnManager.columnsByIndex,o=[],s=[];return e&&(n.forEach(function(t){o.push(t.definition.title)}),s.push(o)),t.forEach(function(t){var o=[],i=t.getData("clipboard");n.forEach(function(t){var e=t.getFieldValue(i);o.push(e)}),s.push(o)}),s},m.prototype.copySelectors={userSelection:function(t){return t},selected:function(t){var e=[];return this.table.extExists("selectRow",!0)&&(e=this.table.extensions.selectRow.getSelectedRows()),this.rowsToData(e,t)},table:function(t){return this.rowsToData(this.table.rowManager.getComponents(),t)},active:function(t){return this.rowsToData(this.table.rowManager.getComponents(!0),t)}},m.prototype.copyFormatters={raw:function(t,e){return t},table:function(t,e){var o=[];return t.forEach(function(t){t.forEach(function(t){void 0===t&&(t=""),(t=void 0===t?"":t.toString()).match(/\r|\n/)&&(t='"'+(t=t.split('"').join('""'))+'"')}),o.push(t.join("\t"))}),o.join("\n")}},m.prototype.pasteParsers={table:function(t){var e=[],o=!0,i=this.table.columnManager.columns,n=[],s=[];return(t=t.split("\n")).forEach(function(t){e.push(t.split("\t"))}),!(!e.length||1===e.length&&e[0].length<2)&&(!0,e[0].forEach(function(e){var t=i.find(function(t){return e.trim()&&t.definition.title.trim()===e.trim()});t?n.push(t):o=!1}),o||(o=!0,n=[],e[0].forEach(function(e){var t=i.find(function(t){return e.trim()&&t.field.trim()===e.trim()});t?n.push(t):o=!1}),o||(n=this.table.columnManager.columnsByIndex)),o&&e.shift(),e.forEach(function(t){var o={};t.forEach(function(t,e){n[e]&&(o[n[e].field]=t)}),s.push(o)}),s)}},m.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},Tabulator.registerExtension("clipboard",m);var b=function(t){this.table=t,this.fields={},this.columnsByIndex=[],this.columnsByField={}};b.prototype.download=function(o,i,t,n){var s=this,e=!1;"function"==typeof o?e=o:s.downloaders[o]?e=s.downloaders[o]:console.warn("Download Error - No such download type found: ",o),this.processColumns(),e&&e.call(this,s.processDefinitions(),s.processData(),t||{},function(t,e){n?n(t):s.triggerDownload(t,e,o,i)})},b.prototype.processColumns=function(){var e=this;e.columnsByIndex=[],e.columnsByField={},e.table.columnManager.columnsByIndex.forEach(function(t){t.field&&t.visible&&!1!==t.definition.download&&(e.columnsByIndex.push(t),e.columnsByField[t.field]=t)})},b.prototype.processDefinitions=function(){var n=[];return this.columnsByIndex.forEach(function(t){var e=t.definition;if(!1!==t.download){var o={};for(var i in e)o[i]=e[i];void 0!==e.downloadTitle&&(o.title=e.downloadTitle),n.push(o)}}),n},b.prototype.processData=function(){var t=this.table.rowManager.getData(!0,"download");return"function"==typeof this.table.options.downloadDataFormatter&&(t=this.table.options.downloadDataFormatter(t)),t},b.prototype.triggerDownload=function(t,e,o,i){var n=document.createElement("a"),s=new Blob([t],{type:e});i=i||"Tabulator."+("function"==typeof o?"txt":o);(s=this.table.options.downloadReady(t,s))&&(navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(s,i):(n.setAttribute("href",window.URL.createObjectURL(s)),n.setAttribute("download",i),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},b.prototype.getFieldValue=function(t,e){var o=this.columnsByField[t];return!!o&&o.getFieldValue(e)},b.prototype.commsReceived=function(t,e,o){switch(e){case"intercept":this.download(o.type,"",o.options,o.intercept)}},b.prototype.downloaders={csv:function(t,e,o,i){var n,s=this,a=[],r=[],l=o&&o.delimiter?o.delimiter:",";t.forEach(function(t){t.field&&(a.push('"'+String(t.title).split('"').join('""')+'"'),r.push(t.field))}),n=[a.join(l)],e.forEach(function(o){var i=[];r.forEach(function(t){var e=s.getFieldValue(t,o);switch(void 0===e?"undefined":_typeof(e)){case"object":e=JSON.stringify(e);break;case"undefined":case"null":e="";break;default:e=e}i.push('"'+String(e).split('"').join('""')+'"')}),n.push(i.join(l))}),i(n.join("\n"),"text/csv")},json:function(t,e,o,i){i(JSON.stringify(e,null,"\t"),"application/json")},pdf:function(t,e,o,i){var n=this,s=[],a=[],r=[],l=o&&o.autoTable?o.autoTable:{},c=o&&o.title?o.title:"",u=o&&"portrait"==o.orientation?"p":"l";t.forEach(function(t){t.field&&(a.push(t.title||""),s.push(t.field))}),e.forEach(function(o){var i=[];s.forEach(function(t){var e=n.getFieldValue(t,o);switch(void 0===e?"undefined":_typeof(e)){case"object":e=JSON.stringify(e);break;case"undefined":case"null":e="";break;default:e=e}i.push(e)}),r.push(i)});var h=new jsPDF(u,"pt");c&&(l.addPageContent=function(t){h.text(c,40,30)}),h.autoTable(a,r,l),i(h.output("arraybuffer"),"application/pdf")},xlsx:function(o,a,t,e){var r=this,i=t.sheetName||"Sheet1",n={SheetNames:[],Sheets:{}};function s(){var n,t,e=[],i=[],s=[];return o.forEach(function(t){t.field&&(e.push(t.title),i.push(t.field))}),s.push(e),a.forEach(function(e){var o=[];i.forEach(function(t){o.push(r.getFieldValue(t,e))}),s.push(o)}),n={},t={s:{c:0,r:0},e:{c:i.length,r:s.length}},s.forEach(function(t,i){t.forEach(function(t,e){var o={v:null==t?"":t};if(null!=o){switch(_typeof(o.v)){case"number":o.t="n";break;case"boolean":o.t="b";break;default:o.t="s"}n[XLSX.utils.encode_cell({c:e,r:i})]=o}})}),n["!ref"]=XLSX.utils.encode_range(t),n}if(t.sheetOnly)e(s());else{if(t.sheets)for(var l in t.sheets)!0===t.sheets[l]?(n.SheetNames.push(l),n.Sheets[l]=s()):(n.SheetNames.push(l),this.table.extensions.comms.send(t.sheets[l],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},intercept:function(t){n.Sheets[l]=t}}));else n.SheetNames.push(i),n.Sheets[i]=s();e(function(t){for(var e=new ArrayBuffer(t.length),o=new Uint8Array(e),i=0;i!=t.length;++i)o[i]=255&t.charCodeAt(i);return e}(XLSX.write(n,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}}},Tabulator.registerExtension("download",b);var v=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1};v.prototype.initializeColumn=function(t){var e=this,o={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(_typeof(t.definition.editor)){case"string":e.editors[t.definition.editor]?o.editor=e.editors[t.definition.editor]:console.warn("Editor Error - No such editor found: ",t.definition.editor);break;case"function":o.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&("function"!=typeof t.definition.formatter?e.editors[t.definition.formatter]?o.editor=e.editors[t.definition.formatter]:o.editor=e.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter))}o.editor&&(t.extensions.edit=o)},v.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},v.prototype.clearEditor=function(){var t=this.currentCell;this.invalidEdit=!1,t&&(this.currentCell=!1,t.getElement().removeClass("tabulator-validation-fail"),t.getElement().removeClass("tabulator-editing").empty(),t.row.getElement().removeClass("tabulator-row-editing"))},v.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(),t.setValueActual(t.getValue()),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled(e),this.table.options.cellEditCancelled(e)}},v.prototype.bindEditor=function(e){var o=this,t=e.getElement();t.attr("tabindex",0),t.on("click",function(t){j(this).hasClass("tabulator-editing")||j(this).focus()}),t.on("mousedown",function(t){o.mouseClick=!0}),t.on("focus",function(t){o.recursionBlock||o.edit(e,t,!1)})},v.prototype.focusCellNoEvent=function(t){this.recursionBlock=!0,t.getElement().focus(),this.recursionBlock=!1},v.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},v.prototype.edit=function(o,t,e){var i,n,s=this,a=!0,r=function(){},l=o.getElement();if(!this.currentCell){if(o.column.extensions.edit.blocked)return this.mouseClick=!1,l.blur(),!1;switch(t&&t.stopPropagation(),_typeof(o.column.extensions.edit.check)){case"function":a=o.column.extensions.edit.check(o.getComponent());break;case"boolean":a=o.column.extensions.edit.check}return a||e?(s.cancelEdit(),n=(s.currentCell=o).getComponent(),this.mouseClick&&(this.mouseClick=!1,o.column.cellEvents.cellClick&&o.column.cellEvents.cellClick(n)),o.column.cellEvents.cellEditing&&o.column.cellEvents.cellEditing(n),s.table.options.cellEditing(n),!1===(i=o.column.extensions.edit.editor.call(s,n,function(t){r=t},function(t){if(s.currentCell===o){var e=!0;o.column.extensions.validate&&s.table.extExists("validate")&&(e=s.table.extensions.validate.validate(o.column.extensions.validate,o.getComponent(),t)),!0===e?(s.clearEditor(),o.setValue(t,!0)):(s.invalidEdit=!0,o.getElement().addClass("tabulator-validation-fail"),s.focusCellNoEvent(o),r(),s.table.options.validationFailed(o.getComponent(),t,e))}else console.warn("Edit Success Error - cannot call success on a cell that is no longer being edited")},function(){s.currentCell===o?s.cancelEdit():console.warn("Edit Success Error - cannot call cancel on a cell that is no longer being edited")},o.column.extensions.edit.params))?(l.blur(),!1):(l.addClass("tabulator-editing"),o.row.getElement().addClass("tabulator-row-editing"),l.empty(),l.append(i),r(),l.children().click(function(t){t.stopPropagation()}),!0)):(this.mouseClick=!1,l.blur(),!1)}this.invalidEdit||this.cancelEdit()},v.prototype.editors={input:function(e,t,o,i,n){var s=j("<input type='text'/>");return s.css({padding:"4px",width:"100%","box-sizing":"border-box"}).val(e.getValue()),t(function(){s.focus(),s.css("height","100%")}),s.on("change blur",function(t){s.val()!=e.getValue()?o(s.val()):i()}),s.on("keydown",function(t){13==t.keyCode&&o(s.val()),27==t.keyCode&&i()}),s},textarea:function(e,t,o,i,n){var s=e.getValue(),a=String("null"==typeof s||void 0===s?"":s),r=((a.match(/(?:\r\n|\r|\n)/g)||[]).length,j("<textarea></textarea>")),l=0;return r.css({display:"block",height:"100%",width:"100%",padding:"2px","box-sizing":"border-box","white-space":"pre-wrap",resize:"none"}).val(a),t(function(){r.focus(),r.css("height","100%")}),r.on("change blur",function(t){r.val()!=e.getValue()?(o(r.val()),setTimeout(function(){e.getRow().normalizeHeight()},300)):i()}),r.on("keyup",function(){r.css({height:""});var t=r[0].scrollHeight;r.css({height:t}),t!=l&&(l=t,e.getRow().normalizeHeight())}),r.on("keydown",function(t){27==t.keyCode&&i()}),r},number:function(o,t,i,n,e){var s=void 0!==e.max?"max='"+e.max+"'":"",a=void 0!==e.min?"min='"+e.min+"'":"",r="step='"+(void 0!==e.step?e.step:1)+"'",l=j("<input type='number' "+s+" "+a+" "+r+"/>");return l.css({padding:"4px",width:"100%","box-sizing":"border-box"}).val(o.getValue()),t(function(){l.css("height","100%"),setTimeout(function(){l.focus()},10)}),l.on("blur",function(t){var e=l.val();isNaN(e)||(e=Number(e)),e!=o.getValue()?i(e):n()}),l.on("keydown",function(t){var e;13==t.keyCode&&(e=l.val(),isNaN(e)||(e=Number(e)),i(e)),27==t.keyCode&&n()}),l},range:function(o,t,i,n,e){var s="max='"+(void 0!==e.max?e.max:10)+"'",a="min='"+(void 0!==e.min?e.min:0)+"'",r="step='"+(void 0!==e.step?e.step:1)+"'",l=j("<input type='range' "+s+" "+a+" "+r+"/>");return l.css({padding:"4px",width:"100%","box-sizing":"border-box"}).val(o.getValue()),t(function(){l.css("height","100%"),setTimeout(function(){l.focus()},10)}),l.on("blur",function(t){var e=l.val();isNaN(e)||(e=Number(e)),e!=o.getValue()?i(e):n()}),l.on("keydown",function(t){var e;13==t.keyCode&&(e=l.val(),isNaN(e)||(e=Number(e)),i(e)),27==t.keyCode&&n()}),l},select:function(t,e,o,i,n){var s=j("<select><select/>"),a=Array.isArray(n);function r(t,e,o,i){var n=j("<option></option>").attr("value",o).text(e);i&&n.prop("disabled",!0),t.append(n)}if("function"==typeof n&&(n=n(t),a=Array.isArray(n)),a||"object"!==(void 0===n?"undefined":_typeof(n)))a&&n.forEach(function(t){!function e(t,o){var i;o.options?(i=j("<optgroup></optgroup>").attr("label",o.label),o.options.forEach(function(t){e(i,t)}),t.append(i)):r(t,void 0===o.label?o.value:o.label,void 0===o.value?o.label:o.value,o.disabled)}(s,t)});else for(var l in n)r(s,n[l],l);return s.css({padding:"4px",width:"100%","box-sizing":"border-box","font-family":""}).val(t.getValue()),e(function(){s.focus().click()}),s.on("change blur",function(t){o(s.val())}),s.on("keydown",function(t){13===t.keyCode&&o(s.val())}),s},star:function(t,e,o,i,n){var s=t.getElement(),a=t.getValue(),r=j("svg",s).length||5,l=j("svg:first",s).attr("width")||14,c=j("<div style='vertical-align:middle; padding:4px; display:inline-block; vertical-align:middle;'></div>"),u=j('<svg width="'+l+'" height="'+l+'" class="tabulator-star-active" viewBox="0 0 512 512" xml:space="preserve" style="padding:0 1px;"><polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),h=j('<svg width="'+l+'" height="'+l+'" class="tabulator-star-inactive" viewBox="0 0 512 512" xml:space="preserve" style="padding:0 1px;"><polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),p=function(t){j(".tabulator-star-active",t.closest("div")).length!=t.prevAll("svg").length+1&&(t.prevAll("svg").replaceWith(u.clone()),t.nextAll("svg").replaceWith(h.clone()),t.replaceWith(u.clone()))};a=parseInt(a)<r?parseInt(a):r;for(var d=1;d<=r;d++){var f=d<=a?u:h;c.append(f.clone())}return c.on("mouseover","svg",function(t){t.stopPropagation(),p(j(this))}),c.on("mouseover",function(t){j("svg",j(this)).replaceWith(h.clone())}),c.on("click",function(t){o(0)}),c.on("click","svg",function(t){t.stopPropagation(),o(j(this).prevAll("svg").length+1)}),s.css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}),s.on("blur",function(){i()}),s.on("keydown",function(t){switch(t.keyCode){case 39:p(j(".tabulator-star-inactive:first",c));break;case 37:var e=j(".tabulator-star-active:last",c).prev("svg");e.length?p(e):j("svg",c).replaceWith(h.clone());break;case 13:o(j(".tabulator-star-active",c).length);break;case 27:i()}}),c},progress:function(t,e,o,i,n){var s,a=t.getElement(),r=j("div",a).data("max"),l=j("div",a).data("min"),c=(r-l)/100,u=t.getValue()||0,h=j("<div class='tabulator-progress-handle' style='position:absolute; right:0; top:0; bottom:0; width:5px;'></div>"),p=function(){var t=c*Math.round(s.outerWidth()/(a.width()/100))+l;o(t),a.attr("aria-valuenow",t).attr("aria-label",u)};return u=parseFloat(u)<=r?parseFloat(u):r,u=parseFloat(u)>=l?parseFloat(u):l,u=100-Math.round((u-l)/c),s=j("<div style='position:absolute; top:8px; bottom:8px; left:4px; right:"+u+"%; margin-right:4px; background-color:#488CE9; display:inline-block; max-width:100%; min-width:0%;' data-max='"+r+"' data-min='"+l+"'></div>"),a.css({padding:"0 4px"}),a.attr("aria-valuemin",l).attr("aria-valuemax",r),s.append(h),h.on("mousedown",function(t){s.data("mouseDrag",t.screenX),s.data("mouseDragWidth",s.outerWidth())}),h.on("mouseover",function(){j(this).css({cursor:"ew-resize"})}),a.on("mousemove",function(t){s.data("mouseDrag")&&s.css({width:s.data("mouseDragWidth")+(t.screenX-s.data("mouseDrag"))})}),a.on("mouseup",function(t){s.data("mouseDrag")&&(t.stopPropagation(),t.stopImmediatePropagation(),s.data("mouseDragOut",!0),s.data("mouseDrag",!1),s.data("mouseDragWidth",!1),p())}),a.on("keydown",function(t){switch(t.keyCode){case 39:s.css({width:s.width()+a.width()/100});break;case 37:s.css({width:s.width()-a.width()/100});break;case 13:p();break;case 27:i()}}),a.on("blur",function(){i()}),s},tickCross:function(t,e,o,i,n){var s=t.getValue(),a=j("<input type='checkbox'/>");return a.css({"margin-top":"5px","box-sizing":"border-box"}).val(s),"firefox"!=this.table.browser&&e(function(){a.focus()}),!0===s||"true"===s||"True"===s||1===s?a.prop("checked",!0):a.prop("checked",!1),a.on("change blur",function(t){o(a.is(":checked"))}),a.on("keydown",function(t){13==t.keyCode&&o(a.is(":checked")),27==t.keyCode&&i()}),a},tick:function(t,e,o,i,n){var s=t.getValue(),a=j("<input type='checkbox'/>");return a.css({"margin-top":"5px","box-sizing":"border-box"}).val(s),"firefox"!=this.table.browser&&e(function(){a.focus()}),!0===s||"true"===s||"True"===s||1===s?a.prop("checked",!0):a.prop("checked",!1),a.on("change blur",function(t){o(a.is(":checked"))}),a.on("keydown",function(t){13==t.keyCode&&o(a.is(":checked")),27==t.keyCode&&i()}),a}},Tabulator.registerExtension("edit",v);var w=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterElements=[],this.changed=!1};w.prototype.initializeColumn=function(n){var t,e,o,i,s,a,r,l=this,c=n.getField();function u(e){var t,o="input"==a&&"text"==r||"textarea"==a?"partial":"match",i="";if(e){switch(_typeof(n.definition.headerFilterFunc)){case"string":l.filters[n.definition.headerFilterFunc]?(i=n.definition.headerFilterFunc,t=function(t){return l.filters[n.definition.headerFilterFunc](e,n.getFieldValue(t))}):console.warn("Header Filter Error - Matching filter function not found: ",n.definition.headerFilterFunc);break;case"function":i=t=function(t){return n.definition.headerFilterFunc(e,n.getFieldValue(t),t,n.definition.headerFilterFuncParams||{})}}if(!t)switch(o){case"partial":t=function(t){return-1<String(n.getFieldValue(t)).toLowerCase().indexOf(String(e).toLowerCase())},i="like";break;default:t=function(t){return n.getFieldValue(t)==e},i="="}l.headerFilters[c]={value:e,func:t,type:i}}else delete l.headerFilters[c];l.changed=!0,l.table.rowManager.filterRefresh()}if(n.extensions.filter={success:u},c){switch(t=j("<div class='tabulator-header-filter'></div>"),_typeof(n.definition.headerFilter)){case"string":l.table.extensions.edit.editors[n.definition.headerFilter]?e=l.table.extensions.edit.editors[n.definition.headerFilter]:console.warn("Filter Error - Cannot build header filter, No such editor found: ",n.definition.editor);break;case"function":e=n.definition.headerFilter;break;case"boolean":e=n.extensions.edit&&n.extensions.edit.editor?n.extensions.edit.editor:n.definition.formatter&&l.table.extensions.edit.editors[n.definition.formatter]?l.table.extensions.edit.editors[n.definition.formatter]:l.table.extensions.edit.editors.input}e&&(i={getValue:function(){return""},getField:function(){return n.definition.field},getElement:function(){return t},getRow:function(){return{normalizeHeight:function(){}}}},o=e.call(l,i,function(){},u,function(){},n.definition.headerFilterParams||{}),c?l.table.extensions.localize.bind("headerFilters|columns|"+n.definition.field,function(t){o.attr("placeholder",void 0!==t&&t?t:l.table.extensions.localize.getText("headerFilters|default"))}):l.table.extensions.localize.bind("headerFilters|default",function(t){o.attr("placeholdder",void 0!==l.column.definition.headerFilterPlaceholder&&l.column.definition.headerFilterPlaceholder?l.column.definition.headerFilterPlaceholder:t)}),o.on("click",function(t){t.stopPropagation(),j(this).focus()}),s=!1,o.on("keyup search",function(t){var e=j(this);s&&clearTimeout(s),s=setTimeout(function(){u(e.val())},300)}),n.extensions.filter.headerElement=o,"number"==(r=o.attr("type")?o.attr("type").toLowerCase():"")&&o.on("change",function(t){u(j(this).val())}),"text"==r&&"ie"!==this.table.browser&&(o.attr("type","search"),o.off("change blur")),"input"!=(a=o.prop("tagName").toLowerCase())&&"select"!=a&&"textarea"!=a||o.on("mousedown",function(t){t.stopPropagation()}),t.append(o),n.contentElement.append(t),l.headerFilterElements.push(o))}else console.warn("Filter Error - Cannot add header filter, column has no field set:",n.definition.title)},w.prototype.hideHeaderFilterElements=function(){this.headerFilterElements.forEach(function(t){t.hide()})},w.prototype.showHeaderFilterElements=function(){this.headerFilterElements.forEach(function(t){t.show()})},w.prototype.setHeaderFilterFocus=function(t){t.extensions.filter&&t.extensions.filter.headerElement?t.extensions.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())},w.prototype.setHeaderFilterValue=function(t,e){t&&(t.extensions.filter&&t.extensions.filter.headerElement?(t.extensions.filter.headerElement.val(e),t.extensions.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},w.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},w.prototype.setFilter=function(t,e,o){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:o}]),this.addFilter(t)},w.prototype.addFilter=function(t,e,o){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:o}]),t.forEach(function(t){(t=i.findFilter(t))&&(i.filterList.push(t),i.changed=!0)}),this.table.options.persistentFilter&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("filter")},w.prototype.findFilter=function(e){var o,i=this;if(Array.isArray(e))return this.findSubFilters(e);var t=!1;return"function"==typeof e.field?t=function(t){return e.field(t,e.type||{})}:i.filters[e.type]?t=(o=i.table.columnManager.getColumnByField(e.field))?function(t){return i.filters[e.type](e.value,o.getFieldValue(t))}:function(t){return i.filters[e.type](e.value,t[e.field])}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=t,!!e.func&&e},w.prototype.findSubFilters=function(t){var e=this,o=[];return t.forEach(function(t){(t=e.findFilter(t))&&o.push(t)}),!!o.length&&o},w.prototype.getFilters=function(t,e){var o=[];return t&&(o=this.getHeaderFilters()),this.filterList.forEach(function(t){o.push({field:t.field,type:t.type,value:t.value})}),e&&o.forEach(function(t){"function"==typeof t.type&&(t.type="function")}),o},w.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},w.prototype.removeFilter=function(t,e,o){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:o}]),t.forEach(function(e){var t=-1;-1<(t="object"==_typeof(e.field)?i.filterList.findIndex(function(t){return e===t}):i.filterList.findIndex(function(t){return e.field===t.field&&e.type===t.type&&e.value===t.value}))?(i.filterList.splice(t,1),i.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",e.type)}),this.table.options.persistentFilter&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("filter")},w.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistentFilter&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("filter")},w.prototype.clearHeaderFilter=function(){this.headerFilters={},this.headerFilterElements.forEach(function(t){t.val("")}),this.changed=!0},w.prototype.filter=function(t){var e=this,o=[],i=[];return e.table.options.dataFiltering&&e.table.options.dataFiltering(e.getFilters()),e.table.options.ajaxFiltering||!e.filterList.length&&!Object.keys(e.headerFilters).length?o=t.slice(0):t.forEach(function(t){e.filterRow(t)&&o.push(t)}),e.table.options.dataFiltered&&(o.forEach(function(t){i.push(t.getComponent())}),e.table.options.dataFiltered(e.getFilters(),i)),o},w.prototype.filterRow=function(t){var e=this,o=!0,i=t.getData();for(var n in e.filterList.forEach(function(t){e.filterRecurse(t,i)||(o=!1)}),e.headerFilters)e.headerFilters[n].func(i)||(o=!1);return o},w.prototype.filterRecurse=function(t,e){var o=this,i=!1;return Array.isArray(t)?t.forEach(function(t){o.filterRecurse(t,e)&&(i=!0)}):i=t.func(e),i},w.prototype.filters={"=":function(t,e){return e==t},"<":function(t,e){return e<t},"<=":function(t,e){return e<=t},">":function(t,e){return t<e},">=":function(t,e){return t<=e},"!=":function(t,e){return e!=t},like:function(t,e){return null==t?e===t:-1<e.toLowerCase().indexOf(t.toLowerCase())},in:function(t,e){return Array.isArray(t)?-1<t.indexOf(e):(console.warn("Filter Error - filter value is not an array:",t),!1)}},Tabulator.registerExtension("filter",w);var y=function(t){this.table=t};y.prototype.initializeColumn=function(t){var e={params:t.definition.formatterParams||{}};switch(_typeof(t.definition.formatter)){case"string":this.formatters[t.definition.formatter]?(e.formatter=this.formatters[t.definition.formatter],"email"===t.definition.formatter&&console.warn("The%c email%c formatter has been depricated and will be removed in version 4.0, use the %clink %cformatter with %cformatterParams:{urlPrefix:'mailto:'} %cinstead.","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;")):(console.warn("Formatter Error - No such formatter found: ",t.definition.formatter),e.formatter=this.formatters.plaintext);break;case"function":e.formatter=t.definition.formatter;break;default:e.formatter=this.formatters.plaintext}t.extensions.format=e},y.prototype.formatValue=function(t){return t.column.extensions.format.formatter.call(this,t.getComponent(),t.column.extensions.format.params)},y.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}return t},y.prototype.emptyToSpace=function(t){return null===t?"&nbsp":t},y.prototype.getFormatter=function(t){switch(void 0===t?"undefined":_typeof(t)){case"string":this.formatters[t]?t=this.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=this.formatters.plaintext);break;case"function":t=t;break;default:t=this.formatters.plaintext}return t},y.prototype.formatters={plaintext:function(t,e){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e){return t.getValue()},textarea:function(t,e){return t.getElement().css({"white-space":"pre-wrap"}),this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e){var o,i,n,s,a=parseFloat(t.getValue()),r=e.decimal||".",l=e.thousand||",",c=e.symbol||"",u=!!e.symbolAfter,h=void 0!==e.precision?e.precision:2;if(isNaN(a))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));for(i=(o=(o=!1!==h?a.toFixed(h):a).split("."))[0],n=1<o.length?r+o[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1"+l+"$2");return u?i+n+c:c+i+n},email:function(t,e){var o=this.sanitizeHTML(t.getValue());return"<a href='mailto:"+o+"'>"+this.emptyToSpace(o)+"</a>"},link:function(t,e){var o=this.sanitizeHTML(t.getValue()),i=e.urlPrefix||"",n=this.emptyToSpace(o);if(e.labelField&&(n=t.getData()[e.labelField]),e.label)switch(_typeof(e.label)){case"string":n=e.label;break;case"function":n=e.label(t)}if(e.urlField&&(o=t.getData()[e.urlField]),e.url)switch(_typeof(e.url)){case"string":o=e.url;break;case"function":o=e.url(t)}return"<a href='"+i+o+"'>"+n+"</a>"},image:function(t,e){var o=this.sanitizeHTML(t.getValue()),i=j("<img src='"+o+"'/>");return i.on("load",function(){t.getRow().normalizeHeight()}),i},tick:function(t,e){var o=t.getValue(),i=t.getElement();return!0===o||"true"===o||"True"===o||1===o||"1"===o?(i.attr("aria-checked",!0),'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'):(i.attr("aria-checked",!1),"")},tickCross:function(t,e){var o=t.getValue(),i=t.getElement();return!0===o||"true"===o||"True"===o||1===o||"1"===o?(i.attr("aria-checked",!0),'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'):(i.attr("aria-checked",!1),'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>')},lookup:function(t,e){var o=t.getValue();return void 0===e[o]?(console.warn("Missing display value for "+o),o):e[o]},star:function(t,e){var o=t.getValue(),i=t.getElement(),n=e&&e.stars?e.stars:5,s=j("<span style='vertical-align:middle;'></span>"),a=j('<svg width="14" height="14" viewBox="0 0 512 512" xml:space="preserve" style="margin:0 1px;"><polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>'),r=j('<svg width="14" height="14" viewBox="0 0 512 512" xml:space="preserve" style="margin:0 1px;"><polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/></svg>');o=parseInt(o)<n?parseInt(o):n;for(var l=1;l<=n;l++){var c=l<=o?a:r;s.append(c.clone())}return i.css({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}),i.attr("aria-label",o),s.html()},progress:function(t,e){var o,i,n,s,a,r=this.sanitizeHTML(t.getValue())||0,l=t.getElement(),c=e&&e.max?e.max:100,u=e&&e.min?e.min:0,h=e&&e.legendAlign?e.legendAlign:"center";switch(i=parseFloat(r)<=c?parseFloat(r):c,i=parseFloat(i)>=u?parseFloat(i):u,o=(c-u)/100,i=Math.round((i-u)/o),_typeof(e.color)){case"string":n=e.color;break;case"function":n=e.color(r);break;case"object":if(Array.isArray(e.color)){var p=100/e.color.length,d=Math.floor(i/p);d=Math.min(d,e.color.length-1),d=Math.max(d,0),n=e.color[d];break}default:n="#2DC214"}switch(_typeof(e.legend)){case"string":s=e.legend;break;case"function":s=e.legend(r);break;case"boolean":s=r;break;default:s=!1}switch(_typeof(e.legendColor)){case"string":a=e.legendColor;break;case"function":a=e.legendColor(r);break;case"object":if(Array.isArray(e.legendColor)){p=100/e.legendColor.length,d=Math.floor(i/p);d=Math.min(d,e.legendColor.length-1),d=Math.max(d,0),a=e.legendColor[d];break}default:a="#000"}return l.css({"min-width":"30px",position:"relative"}),l.attr("aria-label",i),"<div style='position:absolute; top:8px; bottom:8px; left:4px; right:4px;'  data-max='"+c+"' data-min='"+u+"'><div style='position:relative; height:100%; width:calc("+i+"%); background-color:"+n+"; display:inline-block;'></div></div>"+(s?"<div style='position:absolute; top:4px; left:0; text-align:"+h+"; width:100%; color:"+a+";'>"+s+"</div>":"")},color:function(t,e){return t.getElement().css({"background-color":this.sanitizeHTML(t.getValue())}),""},buttonTick:function(t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e){return t.getElement().addClass("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e){var o=j("<div class='tabulator-responsive-collapse-toggle'><span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span></div>");return t.getElement().addClass("tabulator-row-handle"),this.table.options.responsiveLayoutCollapseStartOpen&&o.addClass("open"),o.click(function(){j(this).toggleClass("open"),j(this).closest(".tabulator-row").find(".tabulator-responsive-collapse").toggle()}),o}},Tabulator.registerExtension("format",y);var x=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.initializationMode="left",this.active=!1};x.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1},x.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.definition.frozen?t.parent.isGroup?console.warn("Frozen Column Error - Grouped columns cannot be frozen"):t.isGroup?console.warn("Frozen Column Error - Column Groups cannot be frozen"):(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.extensions.frozen=e):this.initializationMode="right"},x.prototype.layout=function(){var o=this,t=this.table.rowManager.element,i=0;o.active&&(o.leftMargin=o._calcSpace(o.leftColumns,o.leftColumns.length),o.table.columnManager.headersElement.css("margin-left",o.leftMargin),o.rightMargin=o._calcSpace(o.rightColumns,o.rightColumns.length),o.table.columnManager.element.css("padding-right",o.rightMargin),o.table.rowManager.activeRows.forEach(function(t){o.layoutRow(t)}),o.table.extExists("columnCalcs")&&(o.table.extensions.columnCalcs.topInitialized&&o.table.extensions.columnCalcs.topRow&&o.layoutRow(o.table.extensions.columnCalcs.topRow),o.table.extensions.columnCalcs.botInitialized&&o.table.extensions.columnCalcs.botRow&&o.layoutRow(o.table.extensions.columnCalcs.botRow)),o.leftColumns.forEach(function(t,e){t.extensions.frozen.margin=o._calcSpace(o.leftColumns,e)+o.table.columnManager.scrollLeft,e==o.leftColumns.length-1?t.extensions.frozen.edge=!0:t.extensions.frozen.edge=!1,o.layoutColumn(t)}),i=o.table.rowManager.element.innerWidth()+o.table.columnManager.scrollLeft,t[0].scrollHeight>t.innerHeight()&&(i-=t[0].offsetWidth-t[0].clientWidth),o.rightColumns.forEach(function(t,e){t.extensions.frozen.margin=i-o._calcSpace(o.rightColumns,e+1),e==o.rightColumns.length-1?t.extensions.frozen.edge=!0:t.extensions.frozen.edge=!1,o.layoutColumn(t)}))},x.prototype.layoutColumn=function(e){var o=this;o.layoutElement(e.element,e),e.cells.forEach(function(t){o.layoutElement(t.element,e)})},x.prototype.layoutRow=function(t){t.getElement().css({"padding-left":this.leftMargin,"padding-right":this.rightMargin})},x.prototype.layoutElement=function(t,e){if(e.extensions.frozen){var o={position:"absolute",left:e.extensions.frozen.margin};t.css(o),t.addClass("tabulator-frozen"),e.extensions.frozen.edge&&t.addClass("tabulator-frozen-"+e.extensions.frozen.position)}},x.prototype._calcSpace=function(t,e){for(var o=0,i=0;i<e;i++)t[i].visible&&(o+=t[i].getWidth());return o},Tabulator.registerExtension("frozenColumns",x);var C=function(t){this.table=t,this.topElement=j("<div class='tabulator-frozen-rows-holder'></div>"),this.rows=[],this.displayIndex=0};C.prototype.initialize=function(){this.rows=[],this.table.columnManager.element.append(this.topElement)},C.prototype.setDisplayIndex=function(t){this.displayIndex=t},C.prototype.getDisplayIndex=function(){return this.displayIndex},C.prototype.isFrozen=function(){return!!this.rows.length},C.prototype.getRows=function(t){var o=t.slice(0);return this.rows.forEach(function(t){var e=o.indexOf(t);-1<e&&o.splice(e,1)}),o},C.prototype.freezeRow=function(t){t.extensions.frozen?console.warn("Freeze Error - Row is already frozen"):(t.extensions.frozen=!0,this.topElement.append(t.getElement()),t.initialize(),t.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(t),this.table.rowManager.refreshActiveData("display"),this.styleRows())},C.prototype.unfreezeRow=function(t){var e=this.rows.indexOf(t);t.extensions.frozen?(t.extensions.frozen=!1,t.getElement().detach(),this.table.rowManager.adjustTableSize(),this.rows.splice(e,1),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")},C.prototype.styleRows=function(t){var o=this;this.rows.forEach(function(t,e){o.table.rowManager.styleRow(t,e)})},Tabulator.registerExtension("frozenRows",C);var E=function(t){this.group=t,this.type="GroupComponent"};E.prototype.getKey=function(){return this.group.key},E.prototype.getElement=function(){return this.group.element},E.prototype.getRows=function(){var e=[];return this.group.rows.forEach(function(t){e.push(t.getComponent())}),e},E.prototype.getSubGroups=function(){var e=[];return this.group.groupList.forEach(function(t){e.push(t.getComponent())}),e},E.prototype.getParentGroup=function(){return!!this.group.parent&&this.group.parent.getComponent()},E.prototype.getVisibility=function(){return this.group.visible},E.prototype.show=function(){this.group.show()},E.prototype.hide=function(){this.group.hide()},E.prototype.toggle=function(){this.group.toggleVisibility()},E.prototype._getSelf=function(){return this.group};var R=function(t,e,o,i,n,s,a){this.groupManager=t,this.parent=e,this.key=i,this.level=o,this.field=n,this.hasSubGroups=o<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=s,this.element=j("<div class='tabulator-row tabulator-group tabulator-group-level-"+o+"' role='rowgroup'></div>"),this.elementContents=j(""),this.arrowElement=j("<div class='tabulator-arrow'></div>"),this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.extensions={},this.visible=a?a.visible:void 0!==t.startOpen[o]?t.startOpen[o]:t.startOpen[0],this.addBindings()};R.prototype.addBindings=function(){var e,o,i,n=this;n.groupManager.table.options.groupClick&&n.element.on("click",function(t){n.groupManager.table.options.groupClick(t,n.getComponent())}),n.groupManager.table.options.groupDblClick&&n.element.on("dblclick",function(t){n.groupManager.table.options.groupDblClick(t,n.getComponent())}),n.groupManager.table.options.groupContext&&n.element.on("contextmenu",function(t){n.groupManager.table.options.groupContext(t,n.getComponent())}),n.groupManager.table.options.groupTap&&(i=!1,n.element.on("touchstart",function(t){i=!0}),n.element.on("touchend",function(t){i&&n.groupManager.table.options.groupTap(t,n.getComponent()),i=!1})),n.groupManager.table.options.groupDblTap&&(e=null,n.element.on("touchend",function(t){e?(clearTimeout(e),e=null,n.groupManager.table.options.groupDblTap(t,n.getComponent())):e=setTimeout(function(){clearTimeout(e),e=null},300)})),n.groupManager.table.options.groupTapHold&&(o=null,n.element.on("touchstart",function(t){clearTimeout(o),o=setTimeout(function(){clearTimeout(o),o=null,i=!1,n.groupManager.table.options.groupTapHold(t,n.getComponent())},1e3)}),n.element.on("touchend",function(t){clearTimeout(o),o=null})),n.groupManager.table.options.groupToggleElement&&("arrow"==n.groupManager.table.options.groupToggleElement?n.arrowElement:n.element).on("click",function(t){t.stopPropagation(),t.stopImmediatePropagation(),n.toggleVisibility()})},R.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[e].func(t.getData());if(!this.groups[o]){var i=new R(this.groupManager,this,e,o,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[o]);this.groups[o]=i,this.groupList.push(i)}this.groups[o].addRow(t)}},R.prototype._addRow=function(t){this.rows.push(t),t.extensions.group=this},R.prototype.insertRow=function(t,e,o){var i=this.conformRowData({});t.updateData(i);var n=this.rows.indexOf(e);-1<n?o?this.rows.splice(n+1,0,t):this.rows.splice(n,0,t):o?this.rows.push(t):this.rows.unshift(t),(t.extensions.group=this).generateGroupHeaderContents(),this.groupManager.table.extExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.extensions.columnCalcs.recalcGroup(this)},R.prototype.getRowIndex=function(t){},R.prototype.conformRowData=function(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t},R.prototype.removeRow=function(t){var e=this.rows.indexOf(t);-1<e&&this.rows.splice(e,1),this.rows.length?(this.generateGroupHeaderContents(),this.groupManager.table.extExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.extensions.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},R.prototype.removeGroup=function(t){var e;this.groups[t.key]&&(delete this.groups[t.key],-1<(e=this.groupList.indexOf(t))&&this.groupList.splice(e,1),this.groupList.length||this.parent.removeGroup())},R.prototype.getHeadersAndRows=function(){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}):("table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.extExists("columnCalcs")&&this.groupManager.table.extensions.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.extensions.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.extExists("columnCalcs")&&this.groupManager.table.extensions.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.extensions.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.options.groupClosedShowCalcs&&this.groupManager.table.extExists("columnCalcs")&&(this.groupManager.table.extensions.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.extensions.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.extensions.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.extensions.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e},R.prototype.getRows=function(){return this._visSet(),this.visible?this.rows:[]},R.prototype.getRowCount=function(){var e=0;return this.groupList.length?this.groupList.forEach(function(t){e+=t.getRowCount()}):e=this.rows.length,e},R.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},R.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.removeClass("tabulator-group-visible"),this.rows.forEach(function(t){t.getElement().detach()})),this.groupManager.table.options.groupVisibilityChanged(this.getComponent(),!1)},R.prototype.show=function(){var e=this;e.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.addClass("tabulator-group-visible"),e.rows.forEach(function(t){e.getElement().after(t.getElement()),t.initialize()})),this.groupManager.table.options.groupVisibilityChanged(this.getComponent(),!0)},R.prototype._visSet=function(){var e=[];"function"==typeof this.visible&&(this.rows.forEach(function(t){e.push(t.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getRowCount()))},R.prototype.getRowGroup=function(o){var i=!1;return this.groupList.length?this.groupList.forEach(function(t){var e=t.getRowGroup(o);e&&(i=e)}):this.rows.find(function(t){return t===o})&&(i=this),i},R.prototype.generateGroupHeaderContents=function(){var e=[];this.rows.forEach(function(t){e.push(t.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent()),this.element.empty().append(this.elementContents).prepend(this.arrowElement)},R.prototype.getElement=function(){return this.addBindingsd=!1,this._visSet(),this.visible?this.element.addClass("tabulator-group-visible"):this.element.removeClass("tabulator-group-visible"),this.element.children().detach(),this.generateGroupHeaderContents(),this.element},R.prototype.normalizeHeight=function(){this.setHeight(this.element.innerHeight())},R.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},R.prototype.reinitialize=function(){this.initialized=!1,this.height=0,this.element.is(":visible")&&this.initialize(!0)},R.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.outerHeight())},R.prototype.getHeight=function(){return this.outerHeight},R.prototype.getGroup=function(){return this},R.prototype.reinitializeHeight=function(){},R.prototype.calcHeight=function(){},R.prototype.setCellHeight=function(){},R.prototype.clearCellHeight=function(){},R.prototype.getComponent=function(){return new E(this)};var D=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.groups={},this.displayIndex=0};D.prototype.initialize=function(){var s=this,t=s.table.options.groupBy,e=s.table.options.groupStartOpen,o=s.table.options.groupHeader;(s.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],s.table.extensions.localize.bind("groups|item",function(i,n){s.headerGenerator[0]=function(t,e,o){return(void 0===t?"":t)+"<span>("+e+" "+(1===e?i:n.groups.items)+")</span>"}}),this.groupIDLookups=[],Array.isArray(t)||t)?this.table.extExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.extensions.columnCalcs.removeCalcs():this.table.extExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(function(t){t.definition.topCalc&&s.table.extensions.columnCalcs.initializeTopRow(),t.definition.bottomCalc&&s.table.extensions.columnCalcs.initializeBottomRow()});Array.isArray(t)||(t=[t]),t.forEach(function(e){var t,o;t="function"==typeof e?e:(o=s.table.columnManager.getColumnByField(e))?function(t){return o.getFieldValue(t)}:function(t){return t[e]},s.groupIDLookups.push({field:"function"!=typeof e&&e,func:t})}),e&&(Array.isArray(e)||(e=[e]),e.forEach(function(t){t="function"==typeof t?t:function(){return!0}}),s.startOpen=e),o&&(s.headerGenerator=Array.isArray(o)?o:[o]),this.initialized=!0},D.prototype.setDisplayIndex=function(t){this.displayIndex=t},D.prototype.getDisplayIndex=function(){return this.displayIndex},D.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping(),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped(this.getGroups()),this.updateGroupRows()):t.slice(0)},D.prototype.getGroups=function(){var e=[];return this.groupList.forEach(function(t){e.push(t.getComponent())}),e},D.prototype.getRowGroup=function(o){var i=!1;return this.groupList.forEach(function(t){var e=t.getRowGroup(o);e&&(i=e)}),i},D.prototype.countGroups=function(){return this.groupList.length},D.prototype.generateGroups=function(t){var e=this,o=e.groups;e.groups={},e.groupList=[],t.forEach(function(t){e.assignRowToGroup(t,o)})},D.prototype.assignRowToGroup=function(t,e){var o=this.groupIDLookups[0].func(t.getData()),i=(e=e||[],!this.groups[o]);if(i){var n=new R(this,!1,0,o,this.groupIDLookups[0].field,this.headerGenerator[0],e[o]);this.groups[o]=n,this.groupList.push(n)}return this.groups[o].addRow(t),!i},D.prototype.updateGroupRows=function(t){var e=[];if(this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}),t){var o=this.table.rowManager.setDisplayRows(e,this.getDisplayIndex());!0!==o&&this.setDisplayIndex(o),this.table.rowManager.refreshActiveData("group",!0,!0)}return e},D.prototype.scrollHeaders=function(e){this.groupList.forEach(function(t){t.arrowElement.css("margin-left",e)})},D.prototype.removeGroup=function(t){var e;this.groups[t.key]&&(delete this.groups[t.key],-1<(e=this.groupList.indexOf(t))&&this.groupList.splice(e,1))},Tabulator.registerExtension("groupRows",D);var M=function(t){this.table=t,this.history=[],this.index=-1};M.prototype.clear=function(){this.history=[],this.index=-1},M.prototype.action=function(t,e,o){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:o}),this.index++},M.prototype.undo=function(){if(-1<this.index){var t=this.history[this.index];return this.undoers[t.type].call(this,t),this.index--,this.table.options.historyUndo(t.type,t.component.getComponent(),t.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},M.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var t=this.history[this.index];return this.redoers[t.type].call(this,t),this.table.options.historyRedo(t.type,t.component.getComponent(),t.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},M.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.pos],!1),this.table.rowManager.redraw()}},M.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.pos],!1),this.table.rowManager.redraw()}},M.prototype._rebindRow=function(o,i){this.history.forEach(function(t){if(t.component instanceof u)t.component===o&&(t.component=i);else if(t.component instanceof r&&t.component.row===o){var e=t.component.column.getField();e&&(t.component=i.getCell(e))}})},Tabulator.registerExtension("history",M);var T=function(t){this.table=t,this.hasIndex=!1};T.prototype.parseTable=function(){var o=this,t=o.table.element,i=o.table.options,e=(i.columns,j("th",t)),n=j("tbody tr",t),s=[];o.hasIndex=!1,o.table.options.htmlImporting(),o._extractOptions(t,i),e.length?o._extractHeaders(t):o._generateBlankHeaders(t),n.each(function(t){var e={};o.hasIndex||(e[i.index]=t),j("td",j(this)).each(function(t){e[j(this).data("field")]=j(this).html()}),s.push(e)});var a=j("<div></div>"),r=t.prop("attributes");j.each(r,function(){a.attr(this.name,this.value)}),t.replaceWith(a),i.data=s,o.table.options.htmlImported(),a.tabulator(i)},T.prototype._extractOptions=function(t,e){var o=t[0].attributes;for(var i in o){var n,s=o[i];if(s&&s.name&&0===s.name.indexOf("tabulator-"))for(var a in n=s.name.replace("tabulator-",""),e)a.toLowerCase()==n&&(e[a]=this._attribValue(s.value))}},T.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},T.prototype._findCol=function(e){return this.table.options.columns.find(function(t){return t.title===e})||!1},T.prototype._extractHeaders=function(t){var l=this,e=j("th",t),c=j("tbody tr",t);e.each(function(t){var e,o,i=j(this),n=!1,s=l._findCol(i.text());for(var a in s?n=!0:s={title:i.text().trim()},s.field||(s.field=i.text().trim().toLowerCase().replace(" ","_")),(e=i.attr("width"))&&!s.width&&(s.width=e),o=i[0].attributes,l._extractOptions(i,s),o){var r=o[a];r&&r.name&&0===r.name.indexOf("tabulator-")&&(s[r.name.replace("tabulator-","")]=l._attribValue(r.value))}j("td:eq("+t+")",c).data("field",s.field),s.field==l.table.options.index&&(l.hasIndex=!0),n||l.table.options.columns.push(s)})},T.prototype._generateBlankHeaders=function(t){var i=this,e=j("tr:first td",t),n=j("tbody tr",t);e.each(function(t){var e={title:"",field:"col"+t};j("td:eq("+t+")",n).data("field",e.field);var o=j(this).attr("width");o&&(e.width=o),i.table.options.columns.push(e)})},Tabulator.registerExtension("htmlTableImport",T);var z=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};z.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},!(this.pressedKeys=[])!==t){for(var o in this.bindings)e[o]=this.bindings[o];if(Object.keys(t).length)for(var i in t)e[i]=t[i];this.mapBindings(e),this.bindEvents()}},z.prototype.mapBindings=function(t){var o=this,i=this,e=function(e){o.actions[e]?t[e]&&("object"!==_typeof(t[e])&&(t[e]=[t[e]]),t[e].forEach(function(t){i.mapBinding(e,t)})):console.warn("Key Binding Error - no such action:",e)};for(var n in t)e(n)},z.prototype.mapBinding=function(t,e){var o=this,i={action:this.actions[t],keys:[],ctrl:!1,shift:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach(function(t){switch(t){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;default:t=parseInt(t),i.keys.push(t),o.watchKeys[t]||(o.watchKeys[t]=[]),o.watchKeys[t].push(i)}})},z.prototype.bindEvents=function(){var i=this;this.keyupBinding=function(e){var t=e.keyCode,o=i.watchKeys[t];o&&(i.pressedKeys.push(t),o.forEach(function(t){i.checkBinding(e,t)}))},this.keydownBinding=function(t){var e=t.keyCode;if(i.watchKeys[e]){var o=i.pressedKeys.indexOf(e);-1<o&&i.pressedKeys.splice(o,1)}},this.table.element.on("keydown",this.keyupBinding),this.table.element.on("keyup",this.keydownBinding)},z.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.off("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.off("keyup",this.keydownBinding)},z.prototype.checkBinding=function(t,e){var o=this,i=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&(e.keys.forEach(function(t){-1==o.pressedKeys.indexOf(t)&&(i=!1)}),i&&e.action.call(o,t),!0)},z.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},z.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,o=e.scrollTop-e.height;e.element[0].scrollHeight;t.preventDefault(),e.displayRowsCount&&(0<=o?e.element.scrollTop(o):e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,o=e.scrollTop+e.height,i=e.element[0].scrollHeight;t.preventDefault(),e.displayRowsCount&&(o<=i?e.element.scrollTop(o):e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.extExists("edit")&&(e=this.table.extensions.edit.currentCell)&&(t.preventDefault(),e.nav().prev())},navNext:function(t){var e=!1;this.table.extExists("edit")&&(e=this.table.extensions.edit.currentCell)&&(t.preventDefault(),e.nav().next())},navLeft:function(t){var e=!1;this.table.extExists("edit")&&(e=this.table.extensions.edit.currentCell)&&(t.preventDefault(),e.nav().left())},navRight:function(t){var e=!1;this.table.extExists("edit")&&(e=this.table.extensions.edit.currentCell)&&(t.preventDefault(),e.nav().right())},navUp:function(t){var e=!1;this.table.extExists("edit")&&(e=this.table.extensions.edit.currentCell)&&(t.preventDefault(),e.nav().up())},navDown:function(t){var e=!1;this.table.extExists("edit")&&(e=this.table.extensions.edit.currentCell)&&(t.preventDefault(),e.nav().down())},undo:function(t){this.table.options.history&&this.table.extExists("history")&&this.table.extExists("edit")&&(this.table.extensions.edit.currentCell||(t.preventDefault(),this.table.extensions.history.undo()))},redo:function(t){this.table.options.history&&this.table.extExists("history")&&this.table.extExists("edit")&&(this.table.extensions.edit.currentCell||(t.preventDefault(),this.table.extensions.history.redo()))},copyToClipboard:function(t){this.table.extensions.edit.currentCell||this.table.extExists("clipboard",!0)&&this.table.extensions.clipboard.copy(this.table.options.selectable&&"highlight"!=this.table.options.selectable?"selected":"active",null,null,null,!0)}},Tabulator.registerExtension("keybindings",z);var k=function(t){this.table=t,this.placeholderElement=j("<div class='tabulator-col tabulator-col-placeholder'></div>"),this.hoverElement=j(),this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};k.prototype.initializeColumn=function(e){var o=this,t={};e.extensions.frozen||(t.mousemove=function(t){e.parent===o.moving.parent&&(t.pageX-e.element.offset().left+o.table.columnManager.element.scrollLeft()>e.getWidth()/2?o.toCol===e&&o.toColAfter||(e.element.after(o.placeholderElement),o.moveColumn(e,!0)):(o.toCol!==e||o.toColAfter)&&(e.element.before(o.placeholderElement),o.moveColumn(e,!1)))}.bind(o),e.getElement().on("mousedown",function(t){o.checkTimeout=setTimeout(function(){o.startMove(t,e)},o.checkPeriod)}),e.getElement().on("mouseup",function(t){o.checkTimeout&&clearTimeout(o.checkTimeout)})),e.extensions.moveColumn=t},k.prototype.startMove=function(t,e){var o=this,i=e.getElement();o.moving=e,o.startX=t.pageX-i.offset().left,o.table.element.addClass("tabulator-block-select"),o.placeholderElement.css({width:e.getWidth(),height:e.getHeight()}),i.before(o.placeholderElement),i.detach(),o.hoverElement=i.clone(),o.hoverElement.addClass("tabulator-moving"),o.table.columnManager.getElement().append(o.hoverElement),o.hoverElement.css({left:0,bottom:0}),o._bindMouseMove(),j("body").on("mousemove",o.moveHover),j("body").on("mouseup",o.endMove),o.moveHover(t)},k.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(t){t.extensions.moveColumn.mousemove&&t.element.on("mousemove",t.extensions.moveColumn.mousemove)})},k.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(t){t.extensions.moveColumn.mousemove&&t.element.off("mousemove",t.extensions.moveColumn.mousemove)})},k.prototype.moveColumn=function(t,e){var o=this.moving.getCells();this.toCol=t,(this.toColAfter=e)?t.getCells().forEach(function(t,e){t.getElement().after(o[e].getElement())}):t.getCells().forEach(function(t,e){t.getElement().before(o[e].getElement())})},k.prototype.endMove=function(t){var e=this;e._unbindMouseMove(),e.placeholderElement.after(e.moving.getElement()),e.placeholderElement.detach(),e.hoverElement.detach(),e.table.element.removeClass("tabulator-block-select"),e.toCol&&e.table.columnManager.moveColumn(e.moving,e.toCol,e.toColAfter),e.moving=!1,e.toCol=!1,e.toColAfter=!1,j("body").off("mousemove",e.moveHover),j("body").off("mouseup",e.endMove)},k.prototype.moveHover=function(t){var e,o=this,i=o.table.columnManager.getElement(),n=i.scrollLeft(),s=t.pageX-i.offset().left+n;o.hoverElement.css({left:s-o.startX}),s-n<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout(function(){e=Math.max(0,n-5),o.table.rowManager.getElement().scrollLeft(e),o.autoScrollTimeout=!1},1))),n+i.innerWidth()-s<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout(function(){e=Math.min(i.innerWidth(),n+5),o.table.rowManager.getElement().scrollLeft(e),o.autoScrollTimeout=!1},1)))},Tabulator.registerExtension("moveColumn",k);var S=function(t){this.table=t,this.placeholderElement=j("<div class='tabulator-row tabulator-row-placeholder'></div>"),this.hoverElement=j(),this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.connection=!1,this.connections=[],this.connectedTable=!1,this.connectedRow=!1};S.prototype.initialize=function(t){this.connection=this.table.options.movableRowsConnectedTables},S.prototype.setHandle=function(t){this.hasHandle=t},S.prototype.initializeRow=function(e){var o=this,t={};t.mouseup=function(t){o.tableRowDrop(t,e)}.bind(o),t.mousemove=function(t){t.pageY-e.element.offset().top+o.table.rowManager.element.scrollTop()>e.getHeight()/2?o.toRow===e&&o.toRowAfter||(e.element.after(o.placeholderElement),o.moveRow(e,!0)):(o.toRow!==e||o.toRowAfter)&&(e.element.before(o.placeholderElement),o.moveRow(e,!1))}.bind(o),this.hasHandle||(e.getElement().on("mousedown",function(t){o.checkTimeout=setTimeout(function(){o.startMove(t,e)},o.checkPeriod)}),e.getElement().on("mouseup",function(t){o.checkTimeout&&clearTimeout(o.checkTimeout)})),e.extensions.moveRow=t},S.prototype.initializeCell=function(e){var o=this;e.getElement().on("mousedown",function(t){o.checkTimeout=setTimeout(function(){o.startMove(t,e.row)},o.checkPeriod)}),e.getElement().on("mouseup",function(t){o.checkTimeout&&clearTimeout(o.checkTimeout)})},S.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.extensions.moveRow.mousemove&&t.element.on("mousemove",t.extensions.moveRow.mousemove)})},S.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.extensions.moveRow.mousemove&&t.element.off("mousemove",t.extensions.moveRow.mousemove)})},S.prototype.startMove=function(t,e){var o=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.addClass("tabulator-block-select"),this.placeholderElement.css({width:e.getWidth(),height:e.getHeight()}),this.connection?(this.table.element.addClass("tabulator-movingrow-sending"),this.connectToTables(e)):(o.before(this.placeholderElement),o.detach()),this.hoverElement=o.clone(),this.hoverElement.addClass("tabulator-moving"),this.connection?(j("body").append(this.hoverElement),this.hoverElement.css({left:0,top:0,width:this.table.element.innerWidth(),"white-space":"nowrap",overflow:"hidden","pointer-events":"none"})):(this.table.rowManager.getTableElement().append(this.hoverElement),this.hoverElement.css({left:0,top:0}),this._bindMouseMove()),j("body").on("mousemove",this.moveHover),j("body").on("mouseup",this.endMove),this.moveHover(t)},S.prototype.setStartPosition=function(t,e){var o,i;o=e.getElement(),this.connection?(i=o[0].getBoundingClientRect(),this.startX=i.left-t.pageX+window.scrollX,this.startY=i.top-t.pageY+window.scrollY):this.startY=t.pageY-o.offset().top},S.prototype.endMove=function(t){this._unbindMouseMove(),this.connection||(this.placeholderElement.after(this.moving.getElement()),this.placeholderElement.detach()),this.hoverElement.detach(),this.table.element.removeClass("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,j("body").off("mousemove",this.moveHover),j("body").off("mouseup",this.endMove),this.connection&&(this.table.element.removeClass("tabulator-movingrow-sending"),this.disconnectFromTables())},S.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},S.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},S.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),o=e.scrollTop(),i=t.pageY-e.offset().top+o;this.hoverElement.css({top:i-this.startY})},S.prototype.moveHoverConnections=function(t){this.hoverElement.css({left:this.startX+t.pageX,top:this.startY+t.pageY})},S.prototype.connectToTables=function(t){var e=this.table.extensions.comms.getConnections(this.connection);this.table.options.movableRowsSendingStart(e),this.table.extensions.comms.send(this.connection,"moveRow","connect",{row:t})},S.prototype.disconnectFromTables=function(){var t=this.table.extensions.comms.getConnections(this.connection);this.table.options.movableRowsSendingStop(t),this.table.extensions.comms.send(this.connection,"moveRow","disconnect")},S.prototype.connect=function(t,e){var o=this;return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.addClass("tabulator-movingrow-receiving"),o.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.extensions.moveRow&&t.extensions.moveRow.mouseup&&t.element.on("mouseup",t.extensions.moveRow.mouseup)}),o.tableRowDropEvent=o.tableRowDrop.bind(o),o.table.element.on("mouseup",o.tableRowDropEvent),this.table.options.movableRowsReceivingStart(e,t),!0)},S.prototype.disconnect=function(t){t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.removeClass("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.extensions.moveRow&&t.extensions.moveRow.mouseup&&t.element.off("mouseup",t.extensions.moveRow.mouseup)}),this.table.element.off("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStop(t)):console.warn("Move Row Error - trying to disconnect from non connected table")},S.prototype.dropComplete=function(t,e,o){var i=!1;if(o){switch(_typeof(this.table.options.movableRowsSender)){case"string":i=this.senders[this.table.options.movableRowsSender];break;case"function":i=this.table.options.movableRowsSender}i?i.call(this,this.moving.getComponent(),e?e.getComponent():W,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent(this.moving.getComponent(),e?e.getComponent():W,t)}else this.table.options.movableRowsSentFailed(this.moving.getComponent(),e?e.getComponent():W,t);this.endMove()},S.prototype.tableRowDrop=function(t,e){var o=!1,i=!1;switch(t.stopImmediatePropagation(),_typeof(this.table.options.movableRowsReceiver)){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver}o?i=o.call(this,this.connectedRow.getComponent(),e?e.getComponent():W,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),i?this.table.options.movableRowsReceived(this.connectedRow.getComponent(),e?e.getComponent():W,this.connectedTable):this.table.options.movableRowsReceivedFailed(this.connectedRow.getComponent(),e?e.getComponent():W,this.connectedTable),this.table.extensions.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:e,success:i})},S.prototype.receivers={insert:function(t,e,o){return this.table.addRow(t.getData(),W,e),!0},add:function(t,e,o){return this.table.addRow(t.getData()),!0},update:function(t,e,o){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,o){return!!e&&(this.table.addRow(t.getData(),W,e),e.delete(),!0)}},S.prototype.senders={delete:function(t,e,o){t.delete()}},S.prototype.commsReceived=function(t,e,o){switch(e){case"connect":return this.connect(t,o.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,o.row,o.success)}},Tabulator.registerExtension("moveRow",S);var F=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"]};F.prototype.initializeColumn=function(i){var n=this,s=!1,a={};this.mapDepricatedFunctionality(i),this.allowedTypes.forEach(function(t){var e,o="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));i.definition[o]&&(e=n.lookupMutator(i.definition[o]))&&(s=!0,a[o]={mutator:e,params:i.definition[o+"Params"]||{}})}),s&&(i.extensions.mutate=a)},F.prototype.mapDepricatedFunctionality=function(t){var e="";t.definition.mutateType&&("all"!=t.definition.mutateType?(e="mutator"+(type.charAt(0).toUpperCase()+type.slice(1)),t.defintion[e]=t.definition.mutator,delete t.definition.mutator,console.warn("The %cmutateType='"+t.definition.mutateType+"'' %coption has been depricated and will be removed in version 4.0, use the %c "+e+"%c option instead","font-weight:bold;","font-weight:regular;","font-weight:bold;","font-weight:regular;")):console.warn("The %cmutateType='all'' %coption has been depricated and will be removed in version 4.0, it is no longer needed","font-weight:bold;","font-weight:regular;"))},F.prototype.lookupMutator=function(t){var e=!1;switch(void 0===t?"undefined":_typeof(t)){case"string":this.mutators[t]?e=this.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t}return e},F.prototype.transformRow=function(o,i){var n="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));return this.table.columnManager.traverse(function(t){var e;t.extensions.mutate&&(e=t.extensions.mutate[n]||t.extensions.mutate.mutator||!1)&&t.setFieldValue(o,e.mutator(t.getFieldValue(o),o,i,e.params,t.getComponent()))}),o},F.prototype.transformCell=function(t,e){var o=t.column.extensions.mutate.mutatorEdit||t.column.extensions.mutate.mutator||!1;return o?o.mutator(e,t.row.getData(),"edit",o.params,t.getComponent()):e},F.prototype.mutators={},Tabulator.registerExtension("mutator",F);var P=function(t){this.table=t,this.element=j("<span class='tabulator-paginator'></span>"),this.pagesElement=j("<span class='tabulator-pages'></span>"),this.firstBut=j("<button class='tabulator-page' data-page='first' role='button' aria-label='' title='' type='button'></button>"),this.prevBut=j("<button class='tabulator-page' data-page='prev' role='button' aria-label='' title='' type='button'></button>"),this.nextBut=j("<button class='tabulator-page' data-page='next' role='button' aria-label='' title='' type='button'></button>"),this.lastBut=j("<button class='tabulator-page' data-page='last' role='button' aria-label='' title='' type='button'></button>"),this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.paginator=!1,this.displayIndex=0};P.prototype.initialize=function(t){var e=this;for(var o in e.table.options.paginationDataSent)e.paginationDataSentNames[o]=e.table.options.paginationDataSent[o];for(var i in e.table.options.paginationDataReceived)e.paginationDataReceivedNames[i]=e.table.options.paginationDataReceived[i];e.table.options.paginator&&(e.paginator=e.table.options.paginator),e.table.extensions.localize.bind("pagination|first",function(t){e.firstBut.html(t)}),e.table.extensions.localize.bind("pagination|first_title",function(t){e.firstBut.attr("aria-label",t).attr("title",t)}),e.table.extensions.localize.bind("pagination|prev",function(t){e.prevBut.html(t)}),e.table.extensions.localize.bind("pagination|prev_title",function(t){e.prevBut.attr("aria-label",t).attr("title",t)}),e.table.extensions.localize.bind("pagination|next",function(t){e.nextBut.html(t)}),e.table.extensions.localize.bind("pagination|next_title",function(t){e.nextBut.attr("aria-label",t).attr("title",t)}),e.table.extensions.localize.bind("pagination|last",function(t){e.lastBut.html(t)}),e.table.extensions.localize.bind("pagination|last_title",function(t){e.lastBut.attr("aria-label",t).attr("title",t)}),e.firstBut.on("click",function(){e.setPage(1)}),e.prevBut.on("click",function(){e.previousPage()}),e.nextBut.on("click",function(){e.nextPage()}),e.lastBut.on("click",function(){e.setPage(e.max)}),e.table.options.paginationElement&&(e.element=e.table.options.paginationElement),e.element.append(e.firstBut),e.element.append(e.prevBut),e.element.append(e.pagesElement),e.element.append(e.nextBut),e.element.append(e.lastBut),e.table.options.paginationElement||t||e.table.footerManager.append(e.element,e),e.mode=e.table.options.pagination,e.size=e.table.options.paginationSize||Math.floor(e.table.rowManager.getElement().innerHeight()/24),e.count=e.table.options.paginationButtonCount},P.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},P.prototype.setDisplayIndex=function(t){this.displayIndex=t},P.prototype.getDisplayIndex=function(){return this.displayIndex},P.prototype.setMaxRows=function(t){this.max=t?Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},P.prototype.reset=function(t){return("local"==this.mode||t)&&(this.page=1),!0},P.prototype.setMaxPage=function(t){this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},P.prototype.setPage=function(t){return 0<t&&t<=this.max?(this.page=t,this.trigger(),!0):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",t),!1)},P.prototype.setPageSize=function(t){0<t&&(this.size=t)},P.prototype._setPageButtons=function(){var t=this,e=Math.floor((this.count-1)/2),o=Math.ceil((this.count-1)/2),i=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),n=this.page<=o?Math.min(this.count,this.max):Math.min(this.page+o,this.max);t.pagesElement.empty(),1==t.page?(t.firstBut.prop("disabled",!0),t.prevBut.prop("disabled",!0)):(t.firstBut.prop("disabled",!1),t.prevBut.prop("disabled",!1)),t.page==t.max?(t.lastBut.prop("disabled",!0),t.nextBut.prop("disabled",!0)):(t.lastBut.prop("disabled",!1),t.nextBut.prop("disabled",!1));for(var s=i;s<=n;s++)0<s&&s<=t.max&&t.pagesElement.append(t._generatePageButton(s));this.footerRedraw()},P.prototype._generatePageButton=function(e){var o=this,t=j("<button class='tabulator-page "+(e==o.page?"active":"")+"' data-page='"+e+"' role='button' arpagea-label='Show Page "+e+"'>"+e+"</button>");return t.on("click",function(t){o.setPage(e)}),t},P.prototype.previousPage=function(){return 1<this.page?(this.page--,this.trigger(),!0):(console.warn("Pagination Error - Previous page would be less than page 1:",0),!1)},P.prototype.nextPage=function(){return this.page<this.max?(this.page++,this.trigger(),!0):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),!1)},P.prototype.getPage=function(){return this.page},P.prototype.getPageMax=function(){return this.max},P.prototype.getPageSize=function(t){return this.size},P.prototype.getMode=function(){return this.mode},P.prototype.getRows=function(t){var e,o,i;if("local"==this.mode){e=[],i=(o=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var n=o;n<i;n++)t[n]&&e.push(t[n]);return e}return this._setPageButtons(),t.slice(0)},P.prototype.trigger=function(){var t;switch(this.mode){case"local":t=this.table.rowManager.scrollLeft,this.table.rowManager.refreshActiveData("page"),this.table.rowManager.scrollHorizontal(t),this.table.options.pageLoaded(this.getPage());break;case"remote":case"progressive_load":case"progressive_scroll":this.table.extensions.ajax.blockActiveRequest(),this._getRemotePage();break;default:console.warn("Pagination Error - no such pagination mode:",this.mode)}},P.prototype._getRemotePage=function(){this.table.extExists("ajax",!0)&&(this.paginator?this._getRemotePagePaginator():this._getRemotePageAuto())},P.prototype._getRemotePagePaginator=function(){var e=this,t=e.table.extensions.ajax,o=t.getUrl();t.setUrl(e.paginator(t.getUrl(),e.page,e.size,t.getParams())),t.sendRequest(function(t){e._parseRemoteData(t)}),t.setUrl(o)},P.prototype._getRemotePageAuto=function(){var t,e,o=this;if(t=j.extend(!0,{},o.table.extensions.ajax.getParams()),(e=o.table.extensions.ajax.getParams())[this.paginationDataSentNames.page]=o.page,this.size&&(e[this.paginationDataSentNames.size]=this.size),this.table.extExists("sort")){var i=o.table.extensions.sort.getSort();i.forEach(function(t){delete t.column}),e[this.paginationDataSentNames.sorters]=i}if(this.table.extExists("filter")){var n=o.table.extensions.filter.getFilters(!0,!0);e[this.paginationDataSentNames.filters]=n}o.table.extensions.ajax.setParams(e),o.table.extensions.ajax.sendRequest(function(t){o._parseRemoteData(t)},this.progressiveLoad),o.table.extensions.ajax.setParams(t)},P.prototype._parseRemoteData=function(t){var e,o,i=this;if(t[this.paginationDataReceivedNames.last_page])if(t[this.paginationDataReceivedNames.data])if(this.max=parseInt(t[this.paginationDataReceivedNames.last_page]),this.progressiveLoad)switch(this.mode){case"progressive_load":this.table.rowManager.addRows(t[this.paginationDataReceivedNames.data]),this.page<this.max&&setTimeout(function(){i.nextPage()},i.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":t=this.table.rowManager.getData().concat(t[this.paginationDataReceivedNames.data]),this.table.rowManager.setData(t,!0),o=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element[0].clientHeight,i.table.rowManager.element[0].scrollHeight<=i.table.rowManager.element[0].clientHeight+o&&i.nextPage()}else e=this.table.rowManager.scrollLeft,this.table.rowManager.setData(t[this.paginationDataReceivedNames.data]),this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e),this.table.options.pageLoaded(this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.data+"' property");else console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.last_page+"' property")},P.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.innerWidth())-t[0].scrollWidth<0?this.pagesElement.hide():(this.pagesElement.show(),Math.ceil(t.innerWidth())-t[0].scrollWidth<0&&this.pagesElement.hide())},P.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},P.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},Tabulator.registerExtension("page",P);var H=function(t){this.table=t,this.mode="",this.id="",this.persistProps=["field","width","visible"]};H.prototype.initialize=function(t,e){this.mode=!0!==t?t:void 0!==window.localStorage?"local":"cookie",this.id="tabulator-"+(e||this.table.element.attr("id")||"")},H.prototype.load=function(t,e){var o=this.retreiveData(t);return e&&(o=o?this.mergeDefinition(e,o):e),o},H.prototype.retreiveData=function(t){var e="",o=this.id+("columns"===t?"":"-"+t);switch(this.mode){case"local":e=localStorage.getItem(o);break;case"cookie":var i=document.cookie,n=i.indexOf(o+"="),s=void 0;-1<n&&(-1<(s=(i=i.substr(n)).indexOf(";"))&&(i=i.substr(0,s)),e=i.replace(o+"=",""));break;default:console.warn("Persistance Load Error - invalid mode selected",this.mode)}return!!e&&JSON.parse(e)},H.prototype.mergeDefinition=function(i,o){var n=this,s=[];return(o=o||[]).forEach(function(t,e){var o=n._findColumn(i,t);o&&(o.width=t.width,o.visible=t.visible,o.columns&&(o.columns=n.mergeDefinition(o.columns,t.columns)),s.push(o))}),i.forEach(function(t,e){n._findColumn(o,t)||(s.length>e?s.splice(e,0,t):s.push(t))}),s},H.prototype._findColumn=function(t,e){var o=e.columns?"group":e.field?"field":"object";return t.find(function(t){switch(o){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}})},H.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.extensions.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.extensions.sort.getSort())}var o=this.id+("columns"===t?"":"-"+t);this.saveData(o,e)},H.prototype.validateSorters=function(t){return t.forEach(function(t){t.column=t.field,delete t.field}),t},H.prototype.saveData=function(t,e){switch(e=JSON.stringify(e),this.mode){case"local":localStorage.setItem(t,e);break;case"cookie":var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=t+"="+e+"; expires="+o.toUTCString();break;default:console.warn("Persistance Save Error - invalid mode selected",this.mode)}},H.prototype.parseColumns=function(t){var o=this,i=[];return t.forEach(function(t){var e={};t.isGroup?(e.title=t.getDefinition().title,e.columns=o.parseColumns(t.getColumns())):(e.title=t.getDefinition().title,e.field=t.getField(),e.width=t.getWidth(),e.visible=t.visible),i.push(e)}),i},Tabulator.registerExtension("persistence",H);var _=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};_.prototype.initializeColumn=function(t,n,e){var s=this,o=!1,i=this.table.options.resizableColumns;if("header"===t&&(o="textarea"==n.definition.formatter||n.definition.variableHeight,n.extensions.resize={variableHeight:o}),!0===i||i==t){var a=document.createElement("div");a.className="tabulator-col-resize-handle";var r=document.createElement("div");r.className="tabulator-col-resize-handle prev",a.addEventListener("click",function(t){t.stopPropagation()}),a.addEventListener("mousedown",function(t){var e=n.getLastColumn();e&&s._checkResizability(e)&&(s.startColumn=n,s._mouseDown(t,e))}),a.addEventListener("dblclick",function(t){s._checkResizability(n)&&n.reinitializeWidth(!0)}),r.addEventListener("click",function(t){t.stopPropagation()}),r.addEventListener("mousedown",function(t){var e,o,i;(e=n.getFirstColumn())&&(i=0<(o=s.table.columnManager.findColumnIndex(e))&&s.table.columnManager.getColumnByIndex(o-1))&&s._checkResizability(i)&&(s.startColumn=n,s._mouseDown(t,i))}),r.addEventListener("dblclick",function(t){var e,o,i;(e=n.getFirstColumn())&&(i=0<(o=s.table.columnManager.findColumnIndex(e))&&s.table.columnManager.getColumnByIndex(o-1))&&s._checkResizability(i)&&i.reinitializeWidth(!0)}),e.append(a).append(r)}},_.prototype._checkResizability=function(t){return void 0!==t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},_.prototype._mouseDown=function(t,e){var o=this;function i(t){e.setWidth(o.startWidth+(t.screenX-o.startX)),!o.table.browserSlow&&e.extensions.resize&&e.extensions.resize.variableHeight&&e.checkCellHeights()}o.table.element.addClass("tabulator-block-select"),t.stopPropagation(),o.startColumn.extensions.edit&&(o.startColumn.extensions.edit.blocked=!0),o.startX=t.screenX,o.startWidth=e.getWidth(),j("body").on("mousemove",i),j("body").on("mouseup",function(t){o.startColumn.extensions.edit&&(o.startColumn.extensions.edit.blocked=!1),o.table.browserSlow&&e.extensions.resize&&e.extensions.resize.variableHeight&&e.checkCellHeights(),j("body").off("mouseup",i),j("body").off("mousemove",i),o.table.element.removeClass("tabulator-block-select"),o.table.options.persistentLayout&&o.table.extExists("persistence",!0)&&o.table.extensions.persistence.save("columns"),o.table.options.columnResized(o.startColumn.getComponent())})},Tabulator.registerExtension("resizeColumns",_);var L=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};L.prototype.initializeRow=function(o){var i=this,t=document.createElement("div");t.className="tabulator-row-resize-handle";var e=document.createElement("div");e.className="tabulator-row-resize-handle prev",t.addEventListener("click",function(t){t.stopPropagation()}),t.addEventListener("mousedown",function(t){i.startRow=o,i._mouseDown(t,o)}),e.addEventListener("click",function(t){t.stopPropagation()}),e.addEventListener("mousedown",function(t){var e=i.table.rowManager.prevDisplayRow(o);e&&(i.startRow=e,i._mouseDown(t,e))}),o.getElement().append(t).append(e)},L.prototype._mouseDown=function(t,e){var o=this;function i(t){e.setHeight(o.startHeight+(t.screenY-o.startY))}o.table.element.addClass("tabulator-block-select"),t.stopPropagation(),o.startY=t.screenY,o.startHeight=e.getHeight(),j("body").on("mousemove",i),j("body").on("mouseup",function(t){j("body").off("mouseup",i),j("body").off("mousemove",i),o.table.element.removeClass("tabulator-block-select"),o.table.options.rowResized(e.getComponent())})},Tabulator.registerExtension("resizeRows",L);var B=function(t){this.table=t,this.binding=!1,this.observer=!1};B.prototype.initialize=function(t){var e=this.table;"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.observer=new ResizeObserver(function(t){e.redraw()}),this.observer.observe(e.element[0])):(this.binding=function(){e.element.tabulator("redraw")},j(window).resize(this.binding))},B.prototype.clearBindings=function(t){this.binding&&j(window).off("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element[0])},Tabulator.registerExtension("resizeTable",B);var A=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0};A.prototype.initialize=function(){var o=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(t,e){t.extensions.responsive&&t.extensions.responsive.order&&t.extensions.responsive.visible&&(t.extensions.responsive.index=e,o.push(t),t.visible||"collapse"!==this.mode||this.hiddenColumns.push(t))}),o=(o=o.reverse()).sort(function(t,e){return e.extensions.responsive.order-t.extensions.responsive.order||e.extensions.responsive.index-t.extensions.responsive.index}),this.columns=o,"collapse"===this.mode&&this.generateCollapsedContent()},A.prototype.initializeColumn=function(t){var e=t.getDefinition();t.extensions.responsive={order:void 0===e.responsive?1:e.responsive,visible:!1!==e.visible}},A.prototype.layoutRow=function(t){var e=t.getElement(),o=j("<div class='tabulator-responsive-collapse'></div>");e.hasClass("tabulator-calcs")||(t.extensions.responsiveLayout={element:o},this.collapseStartOpen||o.hide(),t.getElement().append(o),this.generateCollapsedRowContent(t))},A.prototype.updateColumnVisibility=function(t,e){t.extensions.responsive&&(t.extensions.responsive.visible=e,this.initialize())},A.prototype.hideColumn=function(t){t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent())},A.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&(-1<(e=this.hiddenColumns.indexOf(t))&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent())},A.prototype.update=function(){for(var t=this,e=!0;e;){var o="fitColumns"==t.table.extensions.layout.getMode()?t.table.columnManager.getFlexBaseWidth():t.table.columnManager.getWidth(),i=t.table.columnManager.element.innerWidth()-o;if(i<0){var n=t.columns[t.index];n?(t.hideColumn(n),t.index++):e=!1}else{var s=t.columns[t.index-1];s&&0<i&&i>=s.getWidth()?(t.showColumn(s),t.index--):e=!1}t.table.rowManager.activeRowsCount||t.table.rowManager.renderEmptyScroll()}},A.prototype.generateCollapsedContent=function(){var e=this;this.table.rowManager.getDisplayRows().forEach(function(t){e.generateCollapsedRowContent(t)})},A.prototype.generateCollapsedRowContent=function(t){var e;t.extensions.responsiveLayout&&((e=t.extensions.responsiveLayout.element).empty(),e.append(this.collapseFormatter(this.generateCollapsedRowData(t))))},A.prototype.generateCollapsedRowData=function(o){var i,n=this,s=o.getData(),a={};return this.hiddenColumns.forEach(function(t){var e=t.getFieldValue(s);t.definition.title&&t.field&&(t.extensions.format&&n.table.options.responsiveLayoutCollapseUseFormatters?(i={value:!1,data:{},getValue:function(){return e},getData:function(){return s},getElement:function(){return j()},getRow:function(){return o.getComponent()},getColumn:function(){return t.getComponent()}},a[t.definition.title]=t.extensions.format.formatter.call(n.table.extensions.format,i,t.extensions.format.params)):a[t.definition.title]=e)}),a},A.prototype.formatCollapsedData=function(t){var e=j("<table></table>");for(var o in t)e.append("<tr><td><strong>"+o+"</strong></td><td>"+t[o]+"</td></tr>");return Object.keys(t).length?e:""},Tabulator.registerExtension("responsiveLayout",A);var I=function(t){this.table=t,this.selecting=!1,this.selectPrev=[],this.selectedRows=[]};I.prototype.clearSelectionData=function(t){this.selecting=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},I.prototype.initializeRow=function(e){var o=this,t=e.getElement(),i=function t(){setTimeout(function(){o.selecting=!1},50),j("body").off("mouseup",t)};e.extensions.select={selected:!1},o.table.options.selectableCheck(e.getComponent())?(t.addClass("tabulator-selectable").removeClass("tabulator-unselectable"),o.table.options.selectable&&"highlight"!=o.table.options.selectable&&(t.on("click",function(t){o.selecting||o.toggleRow(e)}),t.on("mousedown",function(t){if(t.shiftKey)return o.selecting=!0,o.selectPrev=[],j("body").on("mouseup",i),j("body").on("keyup",i),o.toggleRow(e),!1}),t.on("mouseenter",function(t){o.selecting&&(o.toggleRow(e),o.selectPrev[1]==e&&o.toggleRow(o.selectPrev[0]))}),t.on("mouseout",function(t){o.selecting&&o.selectPrev.unshift(e)}))):e.getElement().addClass("tabulator-unselectable").removeClass("tabulator-selectable")},I.prototype.toggleRow=function(t){this.table.options.selectableCheck(t.getComponent())&&(t.extensions.select.selected?this._deselectRow(t):this._selectRow(t))},I.prototype.selectRows=function(t){var e=this;switch(void 0===t?"undefined":_typeof(t)){case"undefined":e.table.rowManager.rows.forEach(function(t){e._selectRow(t,!1,!0)}),e._rowSelectionChanged();break;case"boolean":!0===t&&(e.table.rowManager.activeRows.forEach(function(t){e._selectRow(t,!1,!0)}),e._rowSelectionChanged());break;default:Array.isArray(t)?(t.forEach(function(t){e._selectRow(t)}),e._rowSelectionChanged()):e._selectRow(t)}},I.prototype._selectRow=function(t,e,o){var i=this;if(!isNaN(i.table.options.selectable)&&!0!==i.table.options.selectable&&!o&&i.selectedRows.length>=i.table.options.selectable){if(!i.table.options.selectableRollingSelection)return!1;i._deselectRow(i.selectedRows[0])}var n=i.table.rowManager.findRow(t);if(n){if(-1==i.selectedRows.indexOf(n)){i=this;n.extensions.select.selected=!0,n.getElement().addClass("tabulator-selected"),i.selectedRows.push(n),e||(i.table.options.rowSelected(n.getComponent()),i._rowSelectionChanged())}}else e||console.warn("Selection Error - No such row found, ignoring selection:"+t)},I.prototype.deselectRows=function(t){var e=this;if(void 0===t){for(var o=e.selectedRows.length,i=0;i<o;i++)e._deselectRow(e.selectedRows[0],!0);e._rowSelectionChanged()}else Array.isArray(t)?(t.forEach(function(t){e._deselectRow(t)}),e._rowSelectionChanged()):e._deselectRow(t)},I.prototype._deselectRow=function(t,e){var o,i=this,n=i.table.rowManager.findRow(t);n?-1<(o=i.selectedRows.findIndex(function(t){return t==n}))&&(n.extensions.select.selected=!1,n.getElement().removeClass("tabulator-selected"),i.selectedRows.splice(o,1),e||(i.table.options.rowDeselected(n.getComponent()),i._rowSelectionChanged())):e||console.warn("Deselection Error - No such row found, ignoring selection:"+t)},I.prototype.getSelectedData=function(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e},I.prototype.getSelectedRows=function(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e},I.prototype._rowSelectionChanged=function(){this.table.options.rowSelectionChanged(this.getSelectedData(),this.getSelectedRows())},Tabulator.registerExtension("selectRow",I);var N=function(t){this.table=t,this.sortList=[],this.changed=!1};N.prototype.initializeColumn=function(n,t){var s=this,e=!1;switch(_typeof(n.definition.sorter)){case"string":s.sorters[n.definition.sorter]?e=s.sorters[n.definition.sorter]:console.warn("Sort Error - No such sorter found: ",n.definition.sorter);break;case"function":e=n.definition.sorter}!(n.extensions.sort={sorter:e,dir:"none",params:n.definition.sorterParams||{},startingDir:n.definition.headerSortStartingDir||"asc"})!==n.definition.headerSort&&(n.element.addClass("tabulator-sortable"),t.append(j("<div class='tabulator-arrow'></div>")),n.element.on("click",function(t){var e="",o=[],i=!1;n.extensions.sort&&(e="asc"==n.extensions.sort.dir?"desc":"desc"==n.extensions.sort.dir?"asc":n.extensions.sort.startingDir,t.shiftKey||t.ctrlKey?(-1<(i=(o=s.getSort()).findIndex(function(t){return t.field===n.getField()}))?(o[i].dir="asc"==o[i].dir?"desc":"asc",i!=o.length-1&&o.push(o.splice(i,1)[0])):o.push({column:n,dir:e}),s.setSort(o)):s.setSort(n,e),s.table.rowManager.sorterRefresh())}))},N.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},N.prototype.getSort=function(){var e=[];return this.sortList.forEach(function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})}),e},N.prototype.setSort=function(t,e){var o=this,i=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach(function(t){var e;(e=o.table.columnManager.findColumn(t.column))?(t.column=e,i.push(t),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",t.column)}),o.sortList=i,this.table.options.persistentSort&&this.table.extExists("persistence",!0)&&this.table.extensions.persistence.save("sort")},N.prototype.clear=function(){this.setSort([])},N.prototype.findSorter=function(t){var e,o=this.table.rowManager.activeRows[0],i="string";if(o&&(o=o.getData(),t.getField()))switch(void 0===(e=t.getFieldValue(o))?"undefined":_typeof(e)){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(e)||""===e?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number"}return this.sorters[i]},N.prototype.sort=function(){var o=this;o.table.options.dataSorting&&o.table.options.dataSorting(o.getSort()),o.clearColumnHeaders(),o.table.options.ajaxSorting?o.sortList.forEach(function(t,e){o.setColumnHeader(t.column,t.dir)}):o.sortList.forEach(function(t,e){t.column&&t.column.extensions.sort&&(t.column.extensions.sort.sorter||(t.column.extensions.sort.sorter=o.findSorter(t.column)),o._sortItem(t.column,t.dir,o.sortList,e)),o.setColumnHeader(t.column,t.dir)}),o.table.options.dataSorted&&o.table.options.dataSorted(o.getSort(),o.table.rowManager.getComponents(!0))},N.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach(function(t){t.extensions.sort&&(t.extensions.sort.dir="none",t.element.attr("aria-sort","none"))})},N.prototype.setColumnHeader=function(t,e){t.extensions.sort.dir=e,t.element.attr("aria-sort",e)},N.prototype._sortItem=function(n,s,a,r){var l=this;l.table.rowManager.activeRows.sort(function(t,e){var o=l._sortRow(t,e,n,s);if(0==o&&r)for(var i=r-1;0<=i&&0==(o=l._sortRow(t,e,a[i].column,a[i].dir));i--);return o})},N.prototype._sortRow=function(t,e,o,i){var n="asc"==i?t:e,s="asc"==i?e:t;return t=void 0!==(t=o.getFieldValue(n.getData()))?t:"",e=void 0!==(e=o.getFieldValue(s.getData()))?e:"",o.extensions.sort.sorter.call(this,t,e,n.getComponent(),s.getComponent(),o.getComponent(),i,o.extensions.sort.params)},N.prototype.sorters={number:function(t,e,o,i,n,s,a){var r=a.alignEmptyValues,l=0;t=parseFloat(String(t).replace(",","")),e=parseFloat(String(e).replace(",",""));if(isNaN(t))l=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;l=1}return("top"===r&&"desc"===s||"bottom"===r&&"asc"===s)&&(l*=-1),l},string:function(t,e,o,i,n,s,a){var r,l=a.alignEmptyValues,c=0;if(t){if(e){switch(_typeof(a.locale)){case"boolean":a.locale&&(r=this.table.extensions.localize.getLocale());break;case"string":r=a.locale}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),r)}c=1}else c=e?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c},date:function(t,e,o,i,n,s,a){var r=a.format||"DD/MM/YYYY",l=a.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(t=moment(t,r),e=moment(e,r),t.isValid()){if(e.isValid())return t-e;c=1}else c=e.isValid()?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c}console.error("Sort Error - 'date' sorter is dependant on moment.js")},time:function(t,e,o,i,n,s,a){var r=a.format||"hh:mm",l=a.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(t=moment(t,r),e=moment(e,r),t.isValid()){if(e.isValid())return t-e;c=1}else c=e.isValid()?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c}console.error("Sort Error - 'date' sorter is dependant on moment.js")},datetime:function(t,e,o,i,n,s,a){var r=a.format||"DD/MM/YYYY hh:mm:ss",l=a.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(t=moment(t,r),e=moment(e,r),t.isValid()){if(e.isValid())return t-e;c=1}else c=e.isValid()?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c}console.error("Sort Error - 'date' sorter is dependant on moment.js")},boolean:function(t,e,o,i,n,s,a){return(!0===t||"true"===t||"True"===t||1===t?1:0)-(!0===e||"true"===e||"True"===e||1===e?1:0)},array:function(t,e,o,i,n,s,a){var r=a.type||"length",l=a.alignEmptyValues,c=0;function u(t){switch(r){case"length":return t.length;case"sum":return t.reduce(function(t,e){return t+e});case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce(function(t,e){return t+e})/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return(t?u(t):0)-(e?u(e):0);l=1}else l=Array.isArray(e)?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c},exists:function(t,e,o,i,n,s,a){return(void 0===t?0:1)-(void 0===e?0:1)},alphanum:function(t,e,o,i,n,s,a){var r,l,c,u,h,p=0,d=/(\d+)|(\D+)/g,f=/\d/,g=a.alignEmptyValues,m=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((r=String(t).toLowerCase())===(l=String(e).toLowerCase()))return 0;if(!f.test(r)||!f.test(l))return l<r?1:-1;for(r=r.match(d),l=l.match(d),h=r.length>l.length?l.length:r.length;p<h;)if((c=r[p])!==(u=l[p++]))return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):u<c?1:-1;return r.length>l.length}m=1}else m=e||0===e?-1:0;return("top"===g&&"desc"===s||"bottom"===g&&"asc"===s)&&(m*=-1),m}},Tabulator.registerExtension("sort",N);var V=function(t){this.table=t};V.prototype.initializeColumn=function(t){var e,o=this,i=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach(function(t){(e=o._extractValidator(t))&&i.push(e)}):(e=this._extractValidator(t.definition.validator))&&i.push(e),t.extensions.validate=!!i.length&&i)},V.prototype._extractValidator=function(t){switch(void 0===t?"undefined":_typeof(t)){case"string":var e=t.split(":"),o=e.shift(),i=e.join();return this._buildValidator(o,i);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},V.prototype._buildValidator=function(t,e){var o="function"==typeof t?t:this.validators[t];return o?{type:"function"==typeof t?"function":t,func:o,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)},V.prototype.validate=function(t,e,o){var i=this,n=[];return t&&t.forEach(function(t){t.func.call(i,e,o,t.params)||n.push({type:t.type,parameters:t.params})}),!n.length||n},V.prototype.validators={integer:function(t,e,o){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&Math.floor(e)===e},float:function(t,e,o){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&e%1!=0},numeric:function(t,e,o){return""===e||null==e||!isNaN(e)},string:function(t,e,o){return""===e||null==e||isNaN(e)},max:function(t,e,o){return""===e||null==e||parseFloat(e)<=o},min:function(t,e,o){return""===e||null==e||parseFloat(e)>=o},minLength:function(t,e,o){return""===e||null==e||String(e).length>=o},maxLength:function(t,e,o){return""===e||null==e||String(e).length<=o},in:function(t,e,o){return""===e||null==e||("string"==typeof o&&(o=o.split("|")),""===e||-1<o.indexOf(e))},regex:function(t,e,o){return""===e||null==e||new RegExp(o).test(e)},unique:function(t,o,e){if(""===o||null==o)return!0;var i=!0,n=t.getData(),s=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(t){var e=t.getData();e!==n&&o==s.getFieldValue(e)&&(i=!1)}),i},required:function(t,e,o){return""!==e&null!==e&&void 0!==e}},Tabulator.registerExtension("validate",V)}(),j.widget("ui.tabulator",Tabulator)});